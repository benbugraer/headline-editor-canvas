import*as Ft from'react';import Ft__default,{memo,useMemo,useState,useEffect,useCallback,useRef}from'react';import {LuChevronUp,LuChevronDown,LuChevronsUp,LuChevronsDown}from'react-icons/lu';import {CiAlignLeft,CiAlignCenterH,CiAlignRight,CiAlignTop,CiAlignCenterV,CiAlignBottom}from'react-icons/ci';import*as St from'fabric';import {Canvas,Image as Image$1,Line}from'fabric';import Pu,{clsx}from'clsx';import {twMerge}from'tailwind-merge';import {jsx,jsxs,Fragment}from'react/jsx-runtime';import*as ea from'@radix-ui/react-label';import {cva}from'class-variance-authority';import {SketchPicker}from'react-color';import*as xt from'@radix-ui/react-popover';import {Slot}from'@radix-ui/react-slot';import {FaFontAwesome,FaDownload,FaBold,FaItalic,FaUnderline,FaStrikethrough,FaAlignLeft,FaAlignCenter,FaAlignRight,FaAlignJustify,FaTextHeight}from'react-icons/fa';import {ChevronUpIcon,ChevronDownIcon,CheckIcon,Cross2Icon,ChevronRightIcon,DotFilledIcon}from'@radix-ui/react-icons';import*as V from'@radix-ui/react-select';import {FiChevronDown,FiTrash2}from'react-icons/fi';import {Sparkles,Layers}from'lucide-react';import*as be from'@radix-ui/react-dialog';import*as Ot from'@radix-ui/react-slider';import*as Ar from'@radix-ui/react-switch';import {PiRectangleBold,PiTextTFill}from'react-icons/pi';import {VscCircleLarge}from'react-icons/vsc';import {IoImageSharp}from'react-icons/io5';import {TbLayoutGridFilled}from'react-icons/tb';import*as wa from'@radix-ui/react-separator';import {library}from'@fortawesome/fontawesome-svg-core';import {fas}from'@fortawesome/free-solid-svg-icons';import {fab}from'@fortawesome/free-brands-svg-icons';import {FontAwesomeIcon}from'@fortawesome/react-fontawesome';import*as $ from'@radix-ui/react-dropdown-menu';var dv=Object.create;var su=Object.defineProperty;var pv=Object.getOwnPropertyDescriptor;var hv=Object.getOwnPropertyNames;var mv=Object.getPrototypeOf,gv=Object.prototype.hasOwnProperty;var vv=(r,l)=>()=>(l||r((l={exports:{}}).exports,l),l.exports);var bv=(r,l,c,m)=>{if(l&&typeof l=="object"||typeof l=="function")for(let v of hv(l))!gv.call(r,v)&&v!==c&&su(r,v,{get:()=>l[v],enumerable:!(m=pv(l,v))||m.enumerable});return r};var uu=(r,l,c)=>(c=r!=null?dv(mv(r)):{},bv(su(c,"default",{value:r,enumerable:true}),r));var oa=vv((Gn,Rr)=>{(function(){var r,l="4.17.21",c=200,m="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",v="Expected a function",x="Invalid `variable` option passed into `_.template`",_="__lodash_hash_undefined__",S=500,P="__lodash_placeholder__",F=1,B=2,Q=4,I=1,D=2,T=1,L=2,ee=4,se=8,he=16,ye=32,Pe=64,ie=128,U=256,N=512,j=30,at="...",mt=800,Bt=16,de=1,ke=2,Wt=3,E=1/0,Z=9007199254740991,ve=17976931348623157e292,xn=NaN,$e=4294967295,Cf=$e-1,Rf=$e>>>1,Pf=[["ary",ie],["bind",T],["bindKey",L],["curry",se],["curryRight",he],["flip",N],["partial",ye],["partialRight",Pe],["rearg",U]],_n="[object Arguments]",Dr="[object Array]",Tf="[object AsyncFunction]",jn="[object Boolean]",er="[object Date]",If="[object DOMException]",Or="[object Error]",kr="[object Function]",Ea="[object GeneratorFunction]",lt="[object Map]",tr="[object Number]",Af="[object Null]",Ct="[object Object]",La="[object Promise]",Nf="[object Proxy]",nr="[object RegExp]",st="[object Set]",rr="[object String]",Fr="[object Symbol]",Ef="[object Undefined]",ir="[object WeakMap]",Lf="[object WeakSet]",or="[object ArrayBuffer]",Sn="[object DataView]",Li="[object Float32Array]",Mi="[object Float64Array]",Di="[object Int8Array]",Oi="[object Int16Array]",ki="[object Int32Array]",Fi="[object Uint8Array]",Bi="[object Uint8ClampedArray]",Wi="[object Uint16Array]",Hi="[object Uint32Array]",Mf=/\b__p \+= '';/g,Df=/\b(__p \+=) '' \+/g,Of=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ma=/&(?:amp|lt|gt|quot|#39);/g,Da=/[&<>"']/g,kf=RegExp(Ma.source),Ff=RegExp(Da.source),Bf=/<%-([\s\S]+?)%>/g,Wf=/<%([\s\S]+?)%>/g,Oa=/<%=([\s\S]+?)%>/g,Hf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Uf=/^\w*$/,Gf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ui=/[\\^$.*+?()[\]{}|]/g,zf=RegExp(Ui.source),Gi=/^\s+/,Yf=/\s/,Xf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,qf=/\{\n\/\* \[wrapped with (.+)\] \*/,Kf=/,? & /,Vf=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$f=/[()=,{}\[\]\/\s]/,Zf=/\\(\\)?/g,Jf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ka=/\w*$/,Qf=/^[-+]0x[0-9a-f]+$/i,jf=/^0b[01]+$/i,ec=/^\[object .+?Constructor\]$/,tc=/^0o[0-7]+$/i,nc=/^(?:0|[1-9]\d*)$/,rc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Br=/($^)/,ic=/['\n\r\u2028\u2029\\]/g,Wr="\\ud800-\\udfff",oc="\\u0300-\\u036f",ac="\\ufe20-\\ufe2f",lc="\\u20d0-\\u20ff",Fa=oc+ac+lc,Ba="\\u2700-\\u27bf",Wa="a-z\\xdf-\\xf6\\xf8-\\xff",sc="\\xac\\xb1\\xd7\\xf7",uc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",fc="\\u2000-\\u206f",cc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ha="A-Z\\xc0-\\xd6\\xd8-\\xde",Ua="\\ufe0e\\ufe0f",Ga=sc+uc+fc+cc,zi="['\u2019]",dc="["+Wr+"]",za="["+Ga+"]",Hr="["+Fa+"]",Ya="\\d+",pc="["+Ba+"]",Xa="["+Wa+"]",qa="[^"+Wr+Ga+Ya+Ba+Wa+Ha+"]",Yi="\\ud83c[\\udffb-\\udfff]",hc="(?:"+Hr+"|"+Yi+")",Ka="[^"+Wr+"]",Xi="(?:\\ud83c[\\udde6-\\uddff]){2}",qi="[\\ud800-\\udbff][\\udc00-\\udfff]",Cn="["+Ha+"]",Va="\\u200d",$a="(?:"+Xa+"|"+qa+")",mc="(?:"+Cn+"|"+qa+")",Za="(?:"+zi+"(?:d|ll|m|re|s|t|ve))?",Ja="(?:"+zi+"(?:D|LL|M|RE|S|T|VE))?",Qa=hc+"?",ja="["+Ua+"]?",gc="(?:"+Va+"(?:"+[Ka,Xi,qi].join("|")+")"+ja+Qa+")*",vc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",bc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",el=ja+Qa+gc,yc="(?:"+[pc,Xi,qi].join("|")+")"+el,wc="(?:"+[Ka+Hr+"?",Hr,Xi,qi,dc].join("|")+")",xc=RegExp(zi,"g"),_c=RegExp(Hr,"g"),Ki=RegExp(Yi+"(?="+Yi+")|"+wc+el,"g"),Sc=RegExp([Cn+"?"+Xa+"+"+Za+"(?="+[za,Cn,"$"].join("|")+")",mc+"+"+Ja+"(?="+[za,Cn+$a,"$"].join("|")+")",Cn+"?"+$a+"+"+Za,Cn+"+"+Ja,bc,vc,Ya,yc].join("|"),"g"),Cc=RegExp("["+Va+Wr+Fa+Ua+"]"),Rc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Pc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Tc=-1,le={};le[Li]=le[Mi]=le[Di]=le[Oi]=le[ki]=le[Fi]=le[Bi]=le[Wi]=le[Hi]=true,le[_n]=le[Dr]=le[or]=le[jn]=le[Sn]=le[er]=le[Or]=le[kr]=le[lt]=le[tr]=le[Ct]=le[nr]=le[st]=le[rr]=le[ir]=false;var ae={};ae[_n]=ae[Dr]=ae[or]=ae[Sn]=ae[jn]=ae[er]=ae[Li]=ae[Mi]=ae[Di]=ae[Oi]=ae[ki]=ae[lt]=ae[tr]=ae[Ct]=ae[nr]=ae[st]=ae[rr]=ae[Fr]=ae[Fi]=ae[Bi]=ae[Wi]=ae[Hi]=true,ae[Or]=ae[kr]=ae[ir]=false;var Ic={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Ac={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Nc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ec={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Lc=parseFloat,Mc=parseInt,tl=typeof global=="object"&&global&&global.Object===Object&&global,Dc=typeof self=="object"&&self&&self.Object===Object&&self,_e=tl||Dc||Function("return this")(),Vi=typeof Gn=="object"&&Gn&&!Gn.nodeType&&Gn,jt=Vi&&typeof Rr=="object"&&Rr&&!Rr.nodeType&&Rr,nl=jt&&jt.exports===Vi,$i=nl&&tl.process,Ze=function(){try{var d=jt&&jt.require&&jt.require("util").types;return d||$i&&$i.binding&&$i.binding("util")}catch(g){}}(),rl=Ze&&Ze.isArrayBuffer,il=Ze&&Ze.isDate,ol=Ze&&Ze.isMap,al=Ze&&Ze.isRegExp,ll=Ze&&Ze.isSet,sl=Ze&&Ze.isTypedArray;function Ge(d,g,h){switch(h.length){case 0:return d.call(g);case 1:return d.call(g,h[0]);case 2:return d.call(g,h[0],h[1]);case 3:return d.call(g,h[0],h[1],h[2])}return d.apply(g,h)}function Oc(d,g,h,R){for(var W=-1,te=d==null?0:d.length;++W<te;){var we=d[W];g(R,we,h(we),d);}return R}function Je(d,g){for(var h=-1,R=d==null?0:d.length;++h<R&&g(d[h],h,d)!==false;);return d}function kc(d,g){for(var h=d==null?0:d.length;h--&&g(d[h],h,d)!==false;);return d}function ul(d,g){for(var h=-1,R=d==null?0:d.length;++h<R;)if(!g(d[h],h,d))return  false;return  true}function Ht(d,g){for(var h=-1,R=d==null?0:d.length,W=0,te=[];++h<R;){var we=d[h];g(we,h,d)&&(te[W++]=we);}return te}function Ur(d,g){var h=d==null?0:d.length;return !!h&&Rn(d,g,0)>-1}function Zi(d,g,h){for(var R=-1,W=d==null?0:d.length;++R<W;)if(h(g,d[R]))return  true;return  false}function ue(d,g){for(var h=-1,R=d==null?0:d.length,W=Array(R);++h<R;)W[h]=g(d[h],h,d);return W}function Ut(d,g){for(var h=-1,R=g.length,W=d.length;++h<R;)d[W+h]=g[h];return d}function Ji(d,g,h,R){var W=-1,te=d==null?0:d.length;for(R&&te&&(h=d[++W]);++W<te;)h=g(h,d[W],W,d);return h}function Fc(d,g,h,R){var W=d==null?0:d.length;for(R&&W&&(h=d[--W]);W--;)h=g(h,d[W],W,d);return h}function Qi(d,g){for(var h=-1,R=d==null?0:d.length;++h<R;)if(g(d[h],h,d))return  true;return  false}var Bc=ji("length");function Wc(d){return d.split("")}function Hc(d){return d.match(Vf)||[]}function fl(d,g,h){var R;return h(d,function(W,te,we){if(g(W,te,we))return R=te,false}),R}function Gr(d,g,h,R){for(var W=d.length,te=h+(R?1:-1);R?te--:++te<W;)if(g(d[te],te,d))return te;return  -1}function Rn(d,g,h){return g===g?Qc(d,g,h):Gr(d,cl,h)}function Uc(d,g,h,R){for(var W=h-1,te=d.length;++W<te;)if(R(d[W],g))return W;return  -1}function cl(d){return d!==d}function dl(d,g){var h=d==null?0:d.length;return h?to(d,g)/h:xn}function ji(d){return function(g){return g==null?r:g[d]}}function eo(d){return function(g){return d==null?r:d[g]}}function pl(d,g,h,R,W){return W(d,function(te,we,oe){h=R?(R=false,te):g(h,te,we,oe);}),h}function Gc(d,g){var h=d.length;for(d.sort(g);h--;)d[h]=d[h].value;return d}function to(d,g){for(var h,R=-1,W=d.length;++R<W;){var te=g(d[R]);te!==r&&(h=h===r?te:h+te);}return h}function no(d,g){for(var h=-1,R=Array(d);++h<d;)R[h]=g(h);return R}function zc(d,g){return ue(g,function(h){return [h,d[h]]})}function hl(d){return d&&d.slice(0,bl(d)+1).replace(Gi,"")}function ze(d){return function(g){return d(g)}}function ro(d,g){return ue(g,function(h){return d[h]})}function ar(d,g){return d.has(g)}function ml(d,g){for(var h=-1,R=d.length;++h<R&&Rn(g,d[h],0)>-1;);return h}function gl(d,g){for(var h=d.length;h--&&Rn(g,d[h],0)>-1;);return h}function Yc(d,g){for(var h=d.length,R=0;h--;)d[h]===g&&++R;return R}var Xc=eo(Ic),qc=eo(Ac);function Kc(d){return "\\"+Ec[d]}function Vc(d,g){return d==null?r:d[g]}function Pn(d){return Cc.test(d)}function $c(d){return Rc.test(d)}function Zc(d){for(var g,h=[];!(g=d.next()).done;)h.push(g.value);return h}function io(d){var g=-1,h=Array(d.size);return d.forEach(function(R,W){h[++g]=[W,R];}),h}function vl(d,g){return function(h){return d(g(h))}}function Gt(d,g){for(var h=-1,R=d.length,W=0,te=[];++h<R;){var we=d[h];(we===g||we===P)&&(d[h]=P,te[W++]=h);}return te}function zr(d){var g=-1,h=Array(d.size);return d.forEach(function(R){h[++g]=R;}),h}function Jc(d){var g=-1,h=Array(d.size);return d.forEach(function(R){h[++g]=[R,R];}),h}function Qc(d,g,h){for(var R=h-1,W=d.length;++R<W;)if(d[R]===g)return R;return  -1}function jc(d,g,h){for(var R=h+1;R--;)if(d[R]===g)return R;return R}function Tn(d){return Pn(d)?td(d):Bc(d)}function ut(d){return Pn(d)?nd(d):Wc(d)}function bl(d){for(var g=d.length;g--&&Yf.test(d.charAt(g)););return g}var ed=eo(Nc);function td(d){for(var g=Ki.lastIndex=0;Ki.test(d);)++g;return g}function nd(d){return d.match(Ki)||[]}function rd(d){return d.match(Sc)||[]}var id=function d(g){g=g==null?_e:zt.defaults(_e.Object(),g,zt.pick(_e,Pc));var h=g.Array,R=g.Date,W=g.Error,te=g.Function,we=g.Math,oe=g.Object,oo=g.RegExp,od=g.String,Qe=g.TypeError,Yr=h.prototype,ad=te.prototype,In=oe.prototype,Xr=g["__core-js_shared__"],qr=ad.toString,re=In.hasOwnProperty,ld=0,yl=function(){var e=/[^.]+$/.exec(Xr&&Xr.keys&&Xr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Kr=In.toString,sd=qr.call(oe),ud=_e._,fd=oo("^"+qr.call(re).replace(Ui,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vr=nl?g.Buffer:r,Yt=g.Symbol,$r=g.Uint8Array,wl=Vr?Vr.allocUnsafe:r,Zr=vl(oe.getPrototypeOf,oe),xl=oe.create,_l=In.propertyIsEnumerable,Jr=Yr.splice,Sl=Yt?Yt.isConcatSpreadable:r,lr=Yt?Yt.iterator:r,en=Yt?Yt.toStringTag:r,Qr=function(){try{var e=an(oe,"defineProperty");return e({},"",{}),e}catch(t){}}(),cd=g.clearTimeout!==_e.clearTimeout&&g.clearTimeout,dd=R&&R.now!==_e.Date.now&&R.now,pd=g.setTimeout!==_e.setTimeout&&g.setTimeout,jr=we.ceil,ei=we.floor,ao=oe.getOwnPropertySymbols,hd=Vr?Vr.isBuffer:r,Cl=g.isFinite,md=Yr.join,gd=vl(oe.keys,oe),xe=we.max,Te=we.min,vd=R.now,bd=g.parseInt,Rl=we.random,yd=Yr.reverse,lo=an(g,"DataView"),sr=an(g,"Map"),so=an(g,"Promise"),An=an(g,"Set"),ur=an(g,"WeakMap"),fr=an(oe,"create"),ti=ur&&new ur,Nn={},wd=ln(lo),xd=ln(sr),_d=ln(so),Sd=ln(An),Cd=ln(ur),ni=Yt?Yt.prototype:r,cr=ni?ni.valueOf:r,Pl=ni?ni.toString:r;function a(e){if(pe(e)&&!H(e)&&!(e instanceof K)){if(e instanceof je)return e;if(re.call(e,"__wrapped__"))return Ts(e)}return new je(e)}var En=function(){function e(){}return function(t){if(!fe(t))return {};if(xl)return xl(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function ri(){}function je(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r;}a.templateSettings={escape:Bf,evaluate:Wf,interpolate:Oa,variable:"",imports:{_:a}},a.prototype=ri.prototype,a.prototype.constructor=a,je.prototype=En(ri.prototype),je.prototype.constructor=je;function K(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=false,this.__iteratees__=[],this.__takeCount__=$e,this.__views__=[];}function Rd(){var e=new K(this.__wrapped__);return e.__actions__=Fe(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Fe(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Fe(this.__views__),e}function Pd(){if(this.__filtered__){var e=new K(this);e.__dir__=-1,e.__filtered__=true;}else e=this.clone(),e.__dir__*=-1;return e}function Td(){var e=this.__wrapped__.value(),t=this.__dir__,n=H(e),i=t<0,o=n?e.length:0,s=Wp(0,o,this.__views__),u=s.start,f=s.end,p=f-u,b=i?f:u-1,y=this.__iteratees__,w=y.length,C=0,A=Te(p,this.__takeCount__);if(!n||!i&&o==p&&A==p)return Zl(e,this.__actions__);var O=[];e:for(;p--&&C<A;){b+=t;for(var Y=-1,k=e[b];++Y<w;){var q=y[Y],J=q.iteratee,qe=q.type,Le=J(k);if(qe==ke)k=Le;else if(!Le){if(qe==de)continue e;break e}}O[C++]=k;}return O}K.prototype=En(ri.prototype),K.prototype.constructor=K;function tn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1]);}}function Id(){this.__data__=fr?fr(null):{},this.size=0;}function Ad(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Nd(e){var t=this.__data__;if(fr){var n=t[e];return n===_?r:n}return re.call(t,e)?t[e]:r}function Ed(e){var t=this.__data__;return fr?t[e]!==r:re.call(t,e)}function Ld(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=fr&&t===r?_:t,this}tn.prototype.clear=Id,tn.prototype.delete=Ad,tn.prototype.get=Nd,tn.prototype.has=Ed,tn.prototype.set=Ld;function Rt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1]);}}function Md(){this.__data__=[],this.size=0;}function Dd(e){var t=this.__data__,n=ii(t,e);if(n<0)return  false;var i=t.length-1;return n==i?t.pop():Jr.call(t,n,1),--this.size,true}function Od(e){var t=this.__data__,n=ii(t,e);return n<0?r:t[n][1]}function kd(e){return ii(this.__data__,e)>-1}function Fd(e,t){var n=this.__data__,i=ii(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}Rt.prototype.clear=Md,Rt.prototype.delete=Dd,Rt.prototype.get=Od,Rt.prototype.has=kd,Rt.prototype.set=Fd;function Pt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1]);}}function Bd(){this.size=0,this.__data__={hash:new tn,map:new(sr||Rt),string:new tn};}function Wd(e){var t=gi(this,e).delete(e);return this.size-=t?1:0,t}function Hd(e){return gi(this,e).get(e)}function Ud(e){return gi(this,e).has(e)}function Gd(e,t){var n=gi(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}Pt.prototype.clear=Bd,Pt.prototype.delete=Wd,Pt.prototype.get=Hd,Pt.prototype.has=Ud,Pt.prototype.set=Gd;function nn(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Pt;++t<n;)this.add(e[t]);}function zd(e){return this.__data__.set(e,_),this}function Yd(e){return this.__data__.has(e)}nn.prototype.add=nn.prototype.push=zd,nn.prototype.has=Yd;function ft(e){var t=this.__data__=new Rt(e);this.size=t.size;}function Xd(){this.__data__=new Rt,this.size=0;}function qd(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Kd(e){return this.__data__.get(e)}function Vd(e){return this.__data__.has(e)}function $d(e,t){var n=this.__data__;if(n instanceof Rt){var i=n.__data__;if(!sr||i.length<c-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Pt(i);}return n.set(e,t),this.size=n.size,this}ft.prototype.clear=Xd,ft.prototype.delete=qd,ft.prototype.get=Kd,ft.prototype.has=Vd,ft.prototype.set=$d;function Tl(e,t){var n=H(e),i=!n&&sn(e),o=!n&&!i&&$t(e),s=!n&&!i&&!o&&On(e),u=n||i||o||s,f=u?no(e.length,od):[],p=f.length;for(var b in e)(t||re.call(e,b))&&!(u&&(b=="length"||o&&(b=="offset"||b=="parent")||s&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||Nt(b,p)))&&f.push(b);return f}function Il(e){var t=e.length;return t?e[wo(0,t-1)]:r}function Zd(e,t){return vi(Fe(e),rn(t,0,e.length))}function Jd(e){return vi(Fe(e))}function uo(e,t,n){(n!==r&&!ct(e[t],n)||n===r&&!(t in e))&&Tt(e,t,n);}function dr(e,t,n){var i=e[t];(!(re.call(e,t)&&ct(i,n))||n===r&&!(t in e))&&Tt(e,t,n);}function ii(e,t){for(var n=e.length;n--;)if(ct(e[n][0],t))return n;return  -1}function Qd(e,t,n,i){return Xt(e,function(o,s,u){t(i,o,n(o),u);}),i}function Al(e,t){return e&&vt(t,Se(t),e)}function jd(e,t){return e&&vt(t,We(t),e)}function Tt(e,t,n){t=="__proto__"&&Qr?Qr(e,t,{configurable:true,enumerable:true,value:n,writable:true}):e[t]=n;}function fo(e,t){for(var n=-1,i=t.length,o=h(i),s=e==null;++n<i;)o[n]=s?r:Xo(e,t[n]);return o}function rn(e,t,n){return e===e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function et(e,t,n,i,o,s){var u,f=t&F,p=t&B,b=t&Q;if(n&&(u=o?n(e,i,o,s):n(e)),u!==r)return u;if(!fe(e))return e;var y=H(e);if(y){if(u=Up(e),!f)return Fe(e,u)}else {var w=Ie(e),C=w==kr||w==Ea;if($t(e))return jl(e,f);if(w==Ct||w==_n||C&&!o){if(u=p||C?{}:bs(e),!f)return p?Np(e,jd(u,e)):Ap(e,Al(u,e))}else {if(!ae[w])return o?e:{};u=Gp(e,w,f);}}s||(s=new ft);var A=s.get(e);if(A)return A;s.set(e,u),Ks(e)?e.forEach(function(k){u.add(et(k,t,n,k,e,s));}):Xs(e)&&e.forEach(function(k,q){u.set(q,et(k,t,n,q,e,s));});var O=b?p?Eo:No:p?We:Se,Y=y?r:O(e);return Je(Y||e,function(k,q){Y&&(q=k,k=e[q]),dr(u,q,et(k,t,n,q,e,s));}),u}function ep(e){var t=Se(e);return function(n){return Nl(n,e,t)}}function Nl(e,t,n){var i=n.length;if(e==null)return !i;for(e=oe(e);i--;){var o=n[i],s=t[o],u=e[o];if(u===r&&!(o in e)||!s(u))return  false}return  true}function El(e,t,n){if(typeof e!="function")throw new Qe(v);return yr(function(){e.apply(r,n);},t)}function pr(e,t,n,i){var o=-1,s=Ur,u=true,f=e.length,p=[],b=t.length;if(!f)return p;n&&(t=ue(t,ze(n))),i?(s=Zi,u=false):t.length>=c&&(s=ar,u=false,t=new nn(t));e:for(;++o<f;){var y=e[o],w=n==null?y:n(y);if(y=i||y!==0?y:0,u&&w===w){for(var C=b;C--;)if(t[C]===w)continue e;p.push(y);}else s(t,w,i)||p.push(y);}return p}var Xt=is(gt),Ll=is(po,true);function tp(e,t){var n=true;return Xt(e,function(i,o,s){return n=!!t(i,o,s),n}),n}function oi(e,t,n){for(var i=-1,o=e.length;++i<o;){var s=e[i],u=t(s);if(u!=null&&(f===r?u===u&&!Xe(u):n(u,f)))var f=u,p=s;}return p}function np(e,t,n,i){var o=e.length;for(n=G(n),n<0&&(n=-n>o?0:o+n),i=i===r||i>o?o:G(i),i<0&&(i+=o),i=n>i?0:$s(i);n<i;)e[n++]=t;return e}function Ml(e,t){var n=[];return Xt(e,function(i,o,s){t(i,o,s)&&n.push(i);}),n}function Re(e,t,n,i,o){var s=-1,u=e.length;for(n||(n=Yp),o||(o=[]);++s<u;){var f=e[s];t>0&&n(f)?t>1?Re(f,t-1,n,i,o):Ut(o,f):i||(o[o.length]=f);}return o}var co=os(),Dl=os(true);function gt(e,t){return e&&co(e,t,Se)}function po(e,t){return e&&Dl(e,t,Se)}function ai(e,t){return Ht(t,function(n){return Et(e[n])})}function on(e,t){t=Kt(t,e);for(var n=0,i=t.length;e!=null&&n<i;)e=e[bt(t[n++])];return n&&n==i?e:r}function Ol(e,t,n){var i=t(e);return H(e)?i:Ut(i,n(e))}function Ne(e){return e==null?e===r?Ef:Af:en&&en in oe(e)?Bp(e):Jp(e)}function ho(e,t){return e>t}function rp(e,t){return e!=null&&re.call(e,t)}function ip(e,t){return e!=null&&t in oe(e)}function op(e,t,n){return e>=Te(t,n)&&e<xe(t,n)}function mo(e,t,n){for(var i=n?Zi:Ur,o=e[0].length,s=e.length,u=s,f=h(s),p=1/0,b=[];u--;){var y=e[u];u&&t&&(y=ue(y,ze(t))),p=Te(y.length,p),f[u]=!n&&(t||o>=120&&y.length>=120)?new nn(u&&y):r;}y=e[0];var w=-1,C=f[0];e:for(;++w<o&&b.length<p;){var A=y[w],O=t?t(A):A;if(A=n||A!==0?A:0,!(C?ar(C,O):i(b,O,n))){for(u=s;--u;){var Y=f[u];if(!(Y?ar(Y,O):i(e[u],O,n)))continue e}C&&C.push(O),b.push(A);}}return b}function ap(e,t,n,i){return gt(e,function(o,s,u){t(i,n(o),s,u);}),i}function hr(e,t,n){t=Kt(t,e),e=_s(e,t);var i=e==null?e:e[bt(nt(t))];return i==null?r:Ge(i,e,n)}function kl(e){return pe(e)&&Ne(e)==_n}function lp(e){return pe(e)&&Ne(e)==or}function sp(e){return pe(e)&&Ne(e)==er}function mr(e,t,n,i,o){return e===t?true:e==null||t==null||!pe(e)&&!pe(t)?e!==e&&t!==t:up(e,t,n,i,mr,o)}function up(e,t,n,i,o,s){var u=H(e),f=H(t),p=u?Dr:Ie(e),b=f?Dr:Ie(t);p=p==_n?Ct:p,b=b==_n?Ct:b;var y=p==Ct,w=b==Ct,C=p==b;if(C&&$t(e)){if(!$t(t))return  false;u=true,y=false;}if(C&&!y)return s||(s=new ft),u||On(e)?ms(e,t,n,i,o,s):kp(e,t,p,n,i,o,s);if(!(n&I)){var A=y&&re.call(e,"__wrapped__"),O=w&&re.call(t,"__wrapped__");if(A||O){var Y=A?e.value():e,k=O?t.value():t;return s||(s=new ft),o(Y,k,n,i,s)}}return C?(s||(s=new ft),Fp(e,t,n,i,o,s)):false}function fp(e){return pe(e)&&Ie(e)==lt}function go(e,t,n,i){var o=n.length,s=o,u=!i;if(e==null)return !s;for(e=oe(e);o--;){var f=n[o];if(u&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return  false}for(;++o<s;){f=n[o];var p=f[0],b=e[p],y=f[1];if(u&&f[2]){if(b===r&&!(p in e))return  false}else {var w=new ft;if(i)var C=i(b,y,p,e,t,w);if(!(C===r?mr(y,b,I|D,i,w):C))return  false}}return  true}function Fl(e){if(!fe(e)||qp(e))return  false;var t=Et(e)?fd:ec;return t.test(ln(e))}function cp(e){return pe(e)&&Ne(e)==nr}function dp(e){return pe(e)&&Ie(e)==st}function pp(e){return pe(e)&&Si(e.length)&&!!le[Ne(e)]}function Bl(e){return typeof e=="function"?e:e==null?He:typeof e=="object"?H(e)?Ul(e[0],e[1]):Hl(e):au(e)}function vo(e){if(!br(e))return gd(e);var t=[];for(var n in oe(e))re.call(e,n)&&n!="constructor"&&t.push(n);return t}function hp(e){if(!fe(e))return Zp(e);var t=br(e),n=[];for(var i in e)i=="constructor"&&(t||!re.call(e,i))||n.push(i);return n}function bo(e,t){return e<t}function Wl(e,t){var n=-1,i=Be(e)?h(e.length):[];return Xt(e,function(o,s,u){i[++n]=t(o,s,u);}),i}function Hl(e){var t=Mo(e);return t.length==1&&t[0][2]?ws(t[0][0],t[0][1]):function(n){return n===e||go(n,e,t)}}function Ul(e,t){return Oo(e)&&ys(t)?ws(bt(e),t):function(n){var i=Xo(n,e);return i===r&&i===t?qo(n,e):mr(t,i,I|D)}}function li(e,t,n,i,o){e!==t&&co(t,function(s,u){if(o||(o=new ft),fe(s))mp(e,t,u,n,li,i,o);else {var f=i?i(Fo(e,u),s,u+"",e,t,o):r;f===r&&(f=s),uo(e,u,f);}},We);}function mp(e,t,n,i,o,s,u){var f=Fo(e,n),p=Fo(t,n),b=u.get(p);if(b){uo(e,n,b);return}var y=s?s(f,p,n+"",e,t,u):r,w=y===r;if(w){var C=H(p),A=!C&&$t(p),O=!C&&!A&&On(p);y=p,C||A||O?H(f)?y=f:me(f)?y=Fe(f):A?(w=false,y=jl(p,true)):O?(w=false,y=es(p,true)):y=[]:wr(p)||sn(p)?(y=f,sn(f)?y=Zs(f):(!fe(f)||Et(f))&&(y=bs(p))):w=false;}w&&(u.set(p,y),o(y,p,i,s,u),u.delete(p)),uo(e,n,y);}function Gl(e,t){var n=e.length;if(n)return t+=t<0?n:0,Nt(t,n)?e[t]:r}function zl(e,t,n){t.length?t=ue(t,function(s){return H(s)?function(u){return on(u,s.length===1?s[0]:s)}:s}):t=[He];var i=-1;t=ue(t,ze(M()));var o=Wl(e,function(s,u,f){var p=ue(t,function(b){return b(s)});return {criteria:p,index:++i,value:s}});return Gc(o,function(s,u){return Ip(s,u,n)})}function gp(e,t){return Yl(e,t,function(n,i){return qo(e,i)})}function Yl(e,t,n){for(var i=-1,o=t.length,s={};++i<o;){var u=t[i],f=on(e,u);n(f,u)&&gr(s,Kt(u,e),f);}return s}function vp(e){return function(t){return on(t,e)}}function yo(e,t,n,i){var o=i?Uc:Rn,s=-1,u=t.length,f=e;for(e===t&&(t=Fe(t)),n&&(f=ue(e,ze(n)));++s<u;)for(var p=0,b=t[s],y=n?n(b):b;(p=o(f,y,p,i))>-1;)f!==e&&Jr.call(f,p,1),Jr.call(e,p,1);return e}function Xl(e,t){for(var n=e?t.length:0,i=n-1;n--;){var o=t[n];if(n==i||o!==s){var s=o;Nt(o)?Jr.call(e,o,1):So(e,o);}}return e}function wo(e,t){return e+ei(Rl()*(t-e+1))}function bp(e,t,n,i){for(var o=-1,s=xe(jr((t-e)/(n||1)),0),u=h(s);s--;)u[i?s:++o]=e,e+=n;return u}function xo(e,t){var n="";if(!e||t<1||t>Z)return n;do t%2&&(n+=e),t=ei(t/2),t&&(e+=e);while(t);return n}function X(e,t){return Bo(xs(e,t,He),e+"")}function yp(e){return Il(kn(e))}function wp(e,t){var n=kn(e);return vi(n,rn(t,0,n.length))}function gr(e,t,n,i){if(!fe(e))return e;t=Kt(t,e);for(var o=-1,s=t.length,u=s-1,f=e;f!=null&&++o<s;){var p=bt(t[o]),b=n;if(p==="__proto__"||p==="constructor"||p==="prototype")return e;if(o!=u){var y=f[p];b=i?i(y,p,f):r,b===r&&(b=fe(y)?y:Nt(t[o+1])?[]:{});}dr(f,p,b),f=f[p];}return e}var ql=ti?function(e,t){return ti.set(e,t),e}:He,xp=Qr?function(e,t){return Qr(e,"toString",{configurable:true,enumerable:false,value:Vo(t),writable:true})}:He;function _p(e){return vi(kn(e))}function tt(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=h(o);++i<o;)s[i]=e[i+t];return s}function Sp(e,t){var n;return Xt(e,function(i,o,s){return n=t(i,o,s),!n}),!!n}function si(e,t,n){var i=0,o=e==null?i:e.length;if(typeof t=="number"&&t===t&&o<=Rf){for(;i<o;){var s=i+o>>>1,u=e[s];u!==null&&!Xe(u)&&(n?u<=t:u<t)?i=s+1:o=s;}return o}return _o(e,t,He,n)}function _o(e,t,n,i){var o=0,s=e==null?0:e.length;if(s===0)return 0;t=n(t);for(var u=t!==t,f=t===null,p=Xe(t),b=t===r;o<s;){var y=ei((o+s)/2),w=n(e[y]),C=w!==r,A=w===null,O=w===w,Y=Xe(w);if(u)var k=i||O;else b?k=O&&(i||C):f?k=O&&C&&(i||!A):p?k=O&&C&&!A&&(i||!Y):A||Y?k=false:k=i?w<=t:w<t;k?o=y+1:s=y;}return Te(s,Cf)}function Kl(e,t){for(var n=-1,i=e.length,o=0,s=[];++n<i;){var u=e[n],f=t?t(u):u;if(!n||!ct(f,p)){var p=f;s[o++]=u===0?0:u;}}return s}function Vl(e){return typeof e=="number"?e:Xe(e)?xn:+e}function Ye(e){if(typeof e=="string")return e;if(H(e))return ue(e,Ye)+"";if(Xe(e))return Pl?Pl.call(e):"";var t=e+"";return t=="0"&&1/e==-Infinity?"-0":t}function qt(e,t,n){var i=-1,o=Ur,s=e.length,u=true,f=[],p=f;if(n)u=false,o=Zi;else if(s>=c){var b=t?null:Dp(e);if(b)return zr(b);u=false,o=ar,p=new nn;}else p=t?[]:f;e:for(;++i<s;){var y=e[i],w=t?t(y):y;if(y=n||y!==0?y:0,u&&w===w){for(var C=p.length;C--;)if(p[C]===w)continue e;t&&p.push(w),f.push(y);}else o(p,w,n)||(p!==f&&p.push(w),f.push(y));}return f}function So(e,t){return t=Kt(t,e),e=_s(e,t),e==null||delete e[bt(nt(t))]}function $l(e,t,n,i){return gr(e,t,n(on(e,t)),i)}function ui(e,t,n,i){for(var o=e.length,s=i?o:-1;(i?s--:++s<o)&&t(e[s],s,e););return n?tt(e,i?0:s,i?s+1:o):tt(e,i?s+1:0,i?o:s)}function Zl(e,t){var n=e;return n instanceof K&&(n=n.value()),Ji(t,function(i,o){return o.func.apply(o.thisArg,Ut([i],o.args))},n)}function Co(e,t,n){var i=e.length;if(i<2)return i?qt(e[0]):[];for(var o=-1,s=h(i);++o<i;)for(var u=e[o],f=-1;++f<i;)f!=o&&(s[o]=pr(s[o]||u,e[f],t,n));return qt(Re(s,1),t,n)}function Jl(e,t,n){for(var i=-1,o=e.length,s=t.length,u={};++i<o;){var f=i<s?t[i]:r;n(u,e[i],f);}return u}function Ro(e){return me(e)?e:[]}function Po(e){return typeof e=="function"?e:He}function Kt(e,t){return H(e)?e:Oo(e,t)?[e]:Ps(ne(e))}var Cp=X;function Vt(e,t,n){var i=e.length;return n=n===r?i:n,!t&&n>=i?e:tt(e,t,n)}var Ql=cd||function(e){return _e.clearTimeout(e)};function jl(e,t){if(t)return e.slice();var n=e.length,i=wl?wl(n):new e.constructor(n);return e.copy(i),i}function To(e){var t=new e.constructor(e.byteLength);return new $r(t).set(new $r(e)),t}function Rp(e,t){var n=t?To(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Pp(e){var t=new e.constructor(e.source,ka.exec(e));return t.lastIndex=e.lastIndex,t}function Tp(e){return cr?oe(cr.call(e)):{}}function es(e,t){var n=t?To(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ts(e,t){if(e!==t){var n=e!==r,i=e===null,o=e===e,s=Xe(e),u=t!==r,f=t===null,p=t===t,b=Xe(t);if(!f&&!b&&!s&&e>t||s&&u&&p&&!f&&!b||i&&u&&p||!n&&p||!o)return 1;if(!i&&!s&&!b&&e<t||b&&n&&o&&!i&&!s||f&&n&&o||!u&&o||!p)return  -1}return 0}function Ip(e,t,n){for(var i=-1,o=e.criteria,s=t.criteria,u=o.length,f=n.length;++i<u;){var p=ts(o[i],s[i]);if(p){if(i>=f)return p;var b=n[i];return p*(b=="desc"?-1:1)}}return e.index-t.index}function ns(e,t,n,i){for(var o=-1,s=e.length,u=n.length,f=-1,p=t.length,b=xe(s-u,0),y=h(p+b),w=!i;++f<p;)y[f]=t[f];for(;++o<u;)(w||o<s)&&(y[n[o]]=e[o]);for(;b--;)y[f++]=e[o++];return y}function rs(e,t,n,i){for(var o=-1,s=e.length,u=-1,f=n.length,p=-1,b=t.length,y=xe(s-f,0),w=h(y+b),C=!i;++o<y;)w[o]=e[o];for(var A=o;++p<b;)w[A+p]=t[p];for(;++u<f;)(C||o<s)&&(w[A+n[u]]=e[o++]);return w}function Fe(e,t){var n=-1,i=e.length;for(t||(t=h(i));++n<i;)t[n]=e[n];return t}function vt(e,t,n,i){var o=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var f=t[s],p=i?i(n[f],e[f],f,n,e):r;p===r&&(p=e[f]),o?Tt(n,f,p):dr(n,f,p);}return n}function Ap(e,t){return vt(e,Do(e),t)}function Np(e,t){return vt(e,gs(e),t)}function fi(e,t){return function(n,i){var o=H(n)?Oc:Qd,s=t?t():{};return o(n,e,M(i,2),s)}}function Ln(e){return X(function(t,n){var i=-1,o=n.length,s=o>1?n[o-1]:r,u=o>2?n[2]:r;for(s=e.length>3&&typeof s=="function"?(o--,s):r,u&&Ee(n[0],n[1],u)&&(s=o<3?r:s,o=1),t=oe(t);++i<o;){var f=n[i];f&&e(t,f,i,s);}return t})}function is(e,t){return function(n,i){if(n==null)return n;if(!Be(n))return e(n,i);for(var o=n.length,s=t?o:-1,u=oe(n);(t?s--:++s<o)&&i(u[s],s,u)!==false;);return n}}function os(e){return function(t,n,i){for(var o=-1,s=oe(t),u=i(t),f=u.length;f--;){var p=u[e?f:++o];if(n(s[p],p,s)===false)break}return t}}function Ep(e,t,n){var i=t&T,o=vr(e);function s(){var u=this&&this!==_e&&this instanceof s?o:e;return u.apply(i?n:this,arguments)}return s}function as(e){return function(t){t=ne(t);var n=Pn(t)?ut(t):r,i=n?n[0]:t.charAt(0),o=n?Vt(n,1).join(""):t.slice(1);return i[e]()+o}}function Mn(e){return function(t){return Ji(iu(ru(t).replace(xc,"")),e,"")}}function vr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=En(e.prototype),i=e.apply(n,t);return fe(i)?i:n}}function Lp(e,t,n){var i=vr(e);function o(){for(var s=arguments.length,u=h(s),f=s,p=Dn(o);f--;)u[f]=arguments[f];var b=s<3&&u[0]!==p&&u[s-1]!==p?[]:Gt(u,p);if(s-=b.length,s<n)return cs(e,t,ci,o.placeholder,r,u,b,r,r,n-s);var y=this&&this!==_e&&this instanceof o?i:e;return Ge(y,this,u)}return o}function ls(e){return function(t,n,i){var o=oe(t);if(!Be(t)){var s=M(n,3);t=Se(t),n=function(f){return s(o[f],f,o)};}var u=e(t,n,i);return u>-1?o[s?t[u]:u]:r}}function ss(e){return At(function(t){var n=t.length,i=n,o=je.prototype.thru;for(e&&t.reverse();i--;){var s=t[i];if(typeof s!="function")throw new Qe(v);if(o&&!u&&mi(s)=="wrapper")var u=new je([],true);}for(i=u?i:n;++i<n;){s=t[i];var f=mi(s),p=f=="wrapper"?Lo(s):r;p&&ko(p[0])&&p[1]==(ie|se|ye|U)&&!p[4].length&&p[9]==1?u=u[mi(p[0])].apply(u,p[3]):u=s.length==1&&ko(s)?u[f]():u.thru(s);}return function(){var b=arguments,y=b[0];if(u&&b.length==1&&H(y))return u.plant(y).value();for(var w=0,C=n?t[w].apply(this,b):y;++w<n;)C=t[w].call(this,C);return C}})}function ci(e,t,n,i,o,s,u,f,p,b){var y=t&ie,w=t&T,C=t&L,A=t&(se|he),O=t&N,Y=C?r:vr(e);function k(){for(var q=arguments.length,J=h(q),qe=q;qe--;)J[qe]=arguments[qe];if(A)var Le=Dn(k),Ke=Yc(J,Le);if(i&&(J=ns(J,i,o,A)),s&&(J=rs(J,s,u,A)),q-=Ke,A&&q<b){var ge=Gt(J,Le);return cs(e,t,ci,k.placeholder,n,J,ge,f,p,b-q)}var dt=w?n:this,Mt=C?dt[e]:e;return q=J.length,f?J=Qp(J,f):O&&q>1&&J.reverse(),y&&p<q&&(J.length=p),this&&this!==_e&&this instanceof k&&(Mt=Y||vr(Mt)),Mt.apply(dt,J)}return k}function us(e,t){return function(n,i){return ap(n,e,t(i),{})}}function di(e,t){return function(n,i){var o;if(n===r&&i===r)return t;if(n!==r&&(o=n),i!==r){if(o===r)return i;typeof n=="string"||typeof i=="string"?(n=Ye(n),i=Ye(i)):(n=Vl(n),i=Vl(i)),o=e(n,i);}return o}}function Io(e){return At(function(t){return t=ue(t,ze(M())),X(function(n){var i=this;return e(t,function(o){return Ge(o,i,n)})})})}function pi(e,t){t=t===r?" ":Ye(t);var n=t.length;if(n<2)return n?xo(t,e):t;var i=xo(t,jr(e/Tn(t)));return Pn(t)?Vt(ut(i),0,e).join(""):i.slice(0,e)}function Mp(e,t,n,i){var o=t&T,s=vr(e);function u(){for(var f=-1,p=arguments.length,b=-1,y=i.length,w=h(y+p),C=this&&this!==_e&&this instanceof u?s:e;++b<y;)w[b]=i[b];for(;p--;)w[b++]=arguments[++f];return Ge(C,o?n:this,w)}return u}function fs(e){return function(t,n,i){return i&&typeof i!="number"&&Ee(t,n,i)&&(n=i=r),t=Lt(t),n===r?(n=t,t=0):n=Lt(n),i=i===r?t<n?1:-1:Lt(i),bp(t,n,i,e)}}function hi(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=rt(t),n=rt(n)),e(t,n)}}function cs(e,t,n,i,o,s,u,f,p,b){var y=t&se,w=y?u:r,C=y?r:u,A=y?s:r,O=y?r:s;t|=y?ye:Pe,t&=~(y?Pe:ye),t&ee||(t&=-4);var Y=[e,t,o,A,w,O,C,f,p,b],k=n.apply(r,Y);return ko(e)&&Ss(k,Y),k.placeholder=i,Cs(k,e,t)}function Ao(e){var t=we[e];return function(n,i){if(n=rt(n),i=i==null?0:Te(G(i),292),i&&Cl(n)){var o=(ne(n)+"e").split("e"),s=t(o[0]+"e"+(+o[1]+i));return o=(ne(s)+"e").split("e"),+(o[0]+"e"+(+o[1]-i))}return t(n)}}var Dp=An&&1/zr(new An([,-0]))[1]==E?function(e){return new An(e)}:Jo;function ds(e){return function(t){var n=Ie(t);return n==lt?io(t):n==st?Jc(t):zc(t,e(t))}}function It(e,t,n,i,o,s,u,f){var p=t&L;if(!p&&typeof e!="function")throw new Qe(v);var b=i?i.length:0;if(b||(t&=-97,i=o=r),u=u===r?u:xe(G(u),0),f=f===r?f:G(f),b-=o?o.length:0,t&Pe){var y=i,w=o;i=o=r;}var C=p?r:Lo(e),A=[e,t,n,i,o,y,w,s,u,f];if(C&&$p(A,C),e=A[0],t=A[1],n=A[2],i=A[3],o=A[4],f=A[9]=A[9]===r?p?0:e.length:xe(A[9]-b,0),!f&&t&(se|he)&&(t&=-25),!t||t==T)var O=Ep(e,t,n);else t==se||t==he?O=Lp(e,t,f):(t==ye||t==(T|ye))&&!o.length?O=Mp(e,t,n,i):O=ci.apply(r,A);var Y=C?ql:Ss;return Cs(Y(O,A),e,t)}function ps(e,t,n,i){return e===r||ct(e,In[n])&&!re.call(i,n)?t:e}function hs(e,t,n,i,o,s){return fe(e)&&fe(t)&&(s.set(t,e),li(e,t,r,hs,s),s.delete(t)),e}function Op(e){return wr(e)?r:e}function ms(e,t,n,i,o,s){var u=n&I,f=e.length,p=t.length;if(f!=p&&!(u&&p>f))return  false;var b=s.get(e),y=s.get(t);if(b&&y)return b==t&&y==e;var w=-1,C=true,A=n&D?new nn:r;for(s.set(e,t),s.set(t,e);++w<f;){var O=e[w],Y=t[w];if(i)var k=u?i(Y,O,w,t,e,s):i(O,Y,w,e,t,s);if(k!==r){if(k)continue;C=false;break}if(A){if(!Qi(t,function(q,J){if(!ar(A,J)&&(O===q||o(O,q,n,i,s)))return A.push(J)})){C=false;break}}else if(!(O===Y||o(O,Y,n,i,s))){C=false;break}}return s.delete(e),s.delete(t),C}function kp(e,t,n,i,o,s,u){switch(n){case Sn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return  false;e=e.buffer,t=t.buffer;case or:return !(e.byteLength!=t.byteLength||!s(new $r(e),new $r(t)));case jn:case er:case tr:return ct(+e,+t);case Or:return e.name==t.name&&e.message==t.message;case nr:case rr:return e==t+"";case lt:var f=io;case st:var p=i&I;if(f||(f=zr),e.size!=t.size&&!p)return  false;var b=u.get(e);if(b)return b==t;i|=D,u.set(e,t);var y=ms(f(e),f(t),i,o,s,u);return u.delete(e),y;case Fr:if(cr)return cr.call(e)==cr.call(t)}return  false}function Fp(e,t,n,i,o,s){var u=n&I,f=No(e),p=f.length,b=No(t),y=b.length;if(p!=y&&!u)return  false;for(var w=p;w--;){var C=f[w];if(!(u?C in t:re.call(t,C)))return  false}var A=s.get(e),O=s.get(t);if(A&&O)return A==t&&O==e;var Y=true;s.set(e,t),s.set(t,e);for(var k=u;++w<p;){C=f[w];var q=e[C],J=t[C];if(i)var qe=u?i(J,q,C,t,e,s):i(q,J,C,e,t,s);if(!(qe===r?q===J||o(q,J,n,i,s):qe)){Y=false;break}k||(k=C=="constructor");}if(Y&&!k){var Le=e.constructor,Ke=t.constructor;Le!=Ke&&"constructor"in e&&"constructor"in t&&!(typeof Le=="function"&&Le instanceof Le&&typeof Ke=="function"&&Ke instanceof Ke)&&(Y=false);}return s.delete(e),s.delete(t),Y}function At(e){return Bo(xs(e,r,Ns),e+"")}function No(e){return Ol(e,Se,Do)}function Eo(e){return Ol(e,We,gs)}var Lo=ti?function(e){return ti.get(e)}:Jo;function mi(e){for(var t=e.name+"",n=Nn[t],i=re.call(Nn,t)?n.length:0;i--;){var o=n[i],s=o.func;if(s==null||s==e)return o.name}return t}function Dn(e){var t=re.call(a,"placeholder")?a:e;return t.placeholder}function M(){var e=a.iteratee||$o;return e=e===$o?Bl:e,arguments.length?e(arguments[0],arguments[1]):e}function gi(e,t){var n=e.__data__;return Xp(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Mo(e){for(var t=Se(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,ys(o)];}return t}function an(e,t){var n=Vc(e,t);return Fl(n)?n:r}function Bp(e){var t=re.call(e,en),n=e[en];try{e[en]=r;var i=!0;}catch(s){}var o=Kr.call(e);return i&&(t?e[en]=n:delete e[en]),o}var Do=ao?function(e){return e==null?[]:(e=oe(e),Ht(ao(e),function(t){return _l.call(e,t)}))}:Qo,gs=ao?function(e){for(var t=[];e;)Ut(t,Do(e)),e=Zr(e);return t}:Qo,Ie=Ne;(lo&&Ie(new lo(new ArrayBuffer(1)))!=Sn||sr&&Ie(new sr)!=lt||so&&Ie(so.resolve())!=La||An&&Ie(new An)!=st||ur&&Ie(new ur)!=ir)&&(Ie=function(e){var t=Ne(e),n=t==Ct?e.constructor:r,i=n?ln(n):"";if(i)switch(i){case wd:return Sn;case xd:return lt;case _d:return La;case Sd:return st;case Cd:return ir}return t});function Wp(e,t,n){for(var i=-1,o=n.length;++i<o;){var s=n[i],u=s.size;switch(s.type){case "drop":e+=u;break;case "dropRight":t-=u;break;case "take":t=Te(t,e+u);break;case "takeRight":e=xe(e,t-u);break}}return {start:e,end:t}}function Hp(e){var t=e.match(qf);return t?t[1].split(Kf):[]}function vs(e,t,n){t=Kt(t,e);for(var i=-1,o=t.length,s=false;++i<o;){var u=bt(t[i]);if(!(s=e!=null&&n(e,u)))break;e=e[u];}return s||++i!=o?s:(o=e==null?0:e.length,!!o&&Si(o)&&Nt(u,o)&&(H(e)||sn(e)))}function Up(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&re.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function bs(e){return typeof e.constructor=="function"&&!br(e)?En(Zr(e)):{}}function Gp(e,t,n){var i=e.constructor;switch(t){case or:return To(e);case jn:case er:return new i(+e);case Sn:return Rp(e,n);case Li:case Mi:case Di:case Oi:case ki:case Fi:case Bi:case Wi:case Hi:return es(e,n);case lt:return new i;case tr:case rr:return new i(e);case nr:return Pp(e);case st:return new i;case Fr:return Tp(e)}}function zp(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Xf,`{
/* [wrapped with `+t+`] */
`)}function Yp(e){return H(e)||sn(e)||!!(Sl&&e&&e[Sl])}function Nt(e,t){var n=typeof e;return t=t==null?Z:t,!!t&&(n=="number"||n!="symbol"&&nc.test(e))&&e>-1&&e%1==0&&e<t}function Ee(e,t,n){if(!fe(n))return  false;var i=typeof t;return (i=="number"?Be(n)&&Nt(t,n.length):i=="string"&&t in n)?ct(n[t],e):false}function Oo(e,t){if(H(e))return  false;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Xe(e)?true:Uf.test(e)||!Hf.test(e)||t!=null&&e in oe(t)}function Xp(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ko(e){var t=mi(e),n=a[t];if(typeof n!="function"||!(t in K.prototype))return  false;if(e===n)return  true;var i=Lo(n);return !!i&&e===i[0]}function qp(e){return !!yl&&yl in e}var Kp=Xr?Et:jo;function br(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||In;return e===n}function ys(e){return e===e&&!fe(e)}function ws(e,t){return function(n){return n==null?false:n[e]===t&&(t!==r||e in oe(n))}}function Vp(e){var t=xi(e,function(i){return n.size===S&&n.clear(),i}),n=t.cache;return t}function $p(e,t){var n=e[1],i=t[1],o=n|i,s=o<(T|L|ie),u=i==ie&&n==se||i==ie&&n==U&&e[7].length<=t[8]||i==(ie|U)&&t[7].length<=t[8]&&n==se;if(!(s||u))return e;i&T&&(e[2]=t[2],o|=n&T?0:ee);var f=t[3];if(f){var p=e[3];e[3]=p?ns(p,f,t[4]):f,e[4]=p?Gt(e[3],P):t[4];}return f=t[5],f&&(p=e[5],e[5]=p?rs(p,f,t[6]):f,e[6]=p?Gt(e[5],P):t[6]),f=t[7],f&&(e[7]=f),i&ie&&(e[8]=e[8]==null?t[8]:Te(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function Zp(e){var t=[];if(e!=null)for(var n in oe(e))t.push(n);return t}function Jp(e){return Kr.call(e)}function xs(e,t,n){return t=xe(t===r?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=xe(i.length-t,0),u=h(s);++o<s;)u[o]=i[t+o];o=-1;for(var f=h(t+1);++o<t;)f[o]=i[o];return f[t]=n(u),Ge(e,this,f)}}function _s(e,t){return t.length<2?e:on(e,tt(t,0,-1))}function Qp(e,t){for(var n=e.length,i=Te(t.length,n),o=Fe(e);i--;){var s=t[i];e[i]=Nt(s,n)?o[s]:r;}return e}function Fo(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Ss=Rs(ql),yr=pd||function(e,t){return _e.setTimeout(e,t)},Bo=Rs(xp);function Cs(e,t,n){var i=t+"";return Bo(e,zp(i,jp(Hp(i),n)))}function Rs(e){var t=0,n=0;return function(){var i=vd(),o=Bt-(i-n);if(n=i,o>0){if(++t>=mt)return arguments[0]}else t=0;return e.apply(r,arguments)}}function vi(e,t){var n=-1,i=e.length,o=i-1;for(t=t===r?i:t;++n<t;){var s=wo(n,o),u=e[s];e[s]=e[n],e[n]=u;}return e.length=t,e}var Ps=Vp(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Gf,function(n,i,o,s){t.push(o?s.replace(Zf,"$1"):i||n);}),t});function bt(e){if(typeof e=="string"||Xe(e))return e;var t=e+"";return t=="0"&&1/e==-Infinity?"-0":t}function ln(e){if(e!=null){try{return qr.call(e)}catch(t){}try{return e+""}catch(t){}}return ""}function jp(e,t){return Je(Pf,function(n){var i="_."+n[0];t&n[1]&&!Ur(e,i)&&e.push(i);}),e.sort()}function Ts(e){if(e instanceof K)return e.clone();var t=new je(e.__wrapped__,e.__chain__);return t.__actions__=Fe(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function eh(e,t,n){(n?Ee(e,t,n):t===r)?t=1:t=xe(G(t),0);var i=e==null?0:e.length;if(!i||t<1)return [];for(var o=0,s=0,u=h(jr(i/t));o<i;)u[s++]=tt(e,o,o+=t);return u}function th(e){for(var t=-1,n=e==null?0:e.length,i=0,o=[];++t<n;){var s=e[t];s&&(o[i++]=s);}return o}function nh(){var e=arguments.length;if(!e)return [];for(var t=h(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Ut(H(n)?Fe(n):[n],Re(t,1))}var rh=X(function(e,t){return me(e)?pr(e,Re(t,1,me,true)):[]}),ih=X(function(e,t){var n=nt(t);return me(n)&&(n=r),me(e)?pr(e,Re(t,1,me,true),M(n,2)):[]}),oh=X(function(e,t){var n=nt(t);return me(n)&&(n=r),me(e)?pr(e,Re(t,1,me,true),r,n):[]});function ah(e,t,n){var i=e==null?0:e.length;return i?(t=n||t===r?1:G(t),tt(e,t<0?0:t,i)):[]}function lh(e,t,n){var i=e==null?0:e.length;return i?(t=n||t===r?1:G(t),t=i-t,tt(e,0,t<0?0:t)):[]}function sh(e,t){return e&&e.length?ui(e,M(t,3),true,true):[]}function uh(e,t){return e&&e.length?ui(e,M(t,3),true):[]}function fh(e,t,n,i){var o=e==null?0:e.length;return o?(n&&typeof n!="number"&&Ee(e,t,n)&&(n=0,i=o),np(e,t,n,i)):[]}function Is(e,t,n){var i=e==null?0:e.length;if(!i)return  -1;var o=n==null?0:G(n);return o<0&&(o=xe(i+o,0)),Gr(e,M(t,3),o)}function As(e,t,n){var i=e==null?0:e.length;if(!i)return  -1;var o=i-1;return n!==r&&(o=G(n),o=n<0?xe(i+o,0):Te(o,i-1)),Gr(e,M(t,3),o,true)}function Ns(e){var t=e==null?0:e.length;return t?Re(e,1):[]}function ch(e){var t=e==null?0:e.length;return t?Re(e,E):[]}function dh(e,t){var n=e==null?0:e.length;return n?(t=t===r?1:G(t),Re(e,t)):[]}function ph(e){for(var t=-1,n=e==null?0:e.length,i={};++t<n;){var o=e[t];i[o[0]]=o[1];}return i}function Es(e){return e&&e.length?e[0]:r}function hh(e,t,n){var i=e==null?0:e.length;if(!i)return  -1;var o=n==null?0:G(n);return o<0&&(o=xe(i+o,0)),Rn(e,t,o)}function mh(e){var t=e==null?0:e.length;return t?tt(e,0,-1):[]}var gh=X(function(e){var t=ue(e,Ro);return t.length&&t[0]===e[0]?mo(t):[]}),vh=X(function(e){var t=nt(e),n=ue(e,Ro);return t===nt(n)?t=r:n.pop(),n.length&&n[0]===e[0]?mo(n,M(t,2)):[]}),bh=X(function(e){var t=nt(e),n=ue(e,Ro);return t=typeof t=="function"?t:r,t&&n.pop(),n.length&&n[0]===e[0]?mo(n,r,t):[]});function yh(e,t){return e==null?"":md.call(e,t)}function nt(e){var t=e==null?0:e.length;return t?e[t-1]:r}function wh(e,t,n){var i=e==null?0:e.length;if(!i)return  -1;var o=i;return n!==r&&(o=G(n),o=o<0?xe(i+o,0):Te(o,i-1)),t===t?jc(e,t,o):Gr(e,cl,o,true)}function xh(e,t){return e&&e.length?Gl(e,G(t)):r}var _h=X(Ls);function Ls(e,t){return e&&e.length&&t&&t.length?yo(e,t):e}function Sh(e,t,n){return e&&e.length&&t&&t.length?yo(e,t,M(n,2)):e}function Ch(e,t,n){return e&&e.length&&t&&t.length?yo(e,t,r,n):e}var Rh=At(function(e,t){var n=e==null?0:e.length,i=fo(e,t);return Xl(e,ue(t,function(o){return Nt(o,n)?+o:o}).sort(ts)),i});function Ph(e,t){var n=[];if(!(e&&e.length))return n;var i=-1,o=[],s=e.length;for(t=M(t,3);++i<s;){var u=e[i];t(u,i,e)&&(n.push(u),o.push(i));}return Xl(e,o),n}function Wo(e){return e==null?e:yd.call(e)}function Th(e,t,n){var i=e==null?0:e.length;return i?(n&&typeof n!="number"&&Ee(e,t,n)?(t=0,n=i):(t=t==null?0:G(t),n=n===r?i:G(n)),tt(e,t,n)):[]}function Ih(e,t){return si(e,t)}function Ah(e,t,n){return _o(e,t,M(n,2))}function Nh(e,t){var n=e==null?0:e.length;if(n){var i=si(e,t);if(i<n&&ct(e[i],t))return i}return  -1}function Eh(e,t){return si(e,t,true)}function Lh(e,t,n){return _o(e,t,M(n,2),true)}function Mh(e,t){var n=e==null?0:e.length;if(n){var i=si(e,t,true)-1;if(ct(e[i],t))return i}return  -1}function Dh(e){return e&&e.length?Kl(e):[]}function Oh(e,t){return e&&e.length?Kl(e,M(t,2)):[]}function kh(e){var t=e==null?0:e.length;return t?tt(e,1,t):[]}function Fh(e,t,n){return e&&e.length?(t=n||t===r?1:G(t),tt(e,0,t<0?0:t)):[]}function Bh(e,t,n){var i=e==null?0:e.length;return i?(t=n||t===r?1:G(t),t=i-t,tt(e,t<0?0:t,i)):[]}function Wh(e,t){return e&&e.length?ui(e,M(t,3),false,true):[]}function Hh(e,t){return e&&e.length?ui(e,M(t,3)):[]}var Uh=X(function(e){return qt(Re(e,1,me,true))}),Gh=X(function(e){var t=nt(e);return me(t)&&(t=r),qt(Re(e,1,me,true),M(t,2))}),zh=X(function(e){var t=nt(e);return t=typeof t=="function"?t:r,qt(Re(e,1,me,true),r,t)});function Yh(e){return e&&e.length?qt(e):[]}function Xh(e,t){return e&&e.length?qt(e,M(t,2)):[]}function qh(e,t){return t=typeof t=="function"?t:r,e&&e.length?qt(e,r,t):[]}function Ho(e){if(!(e&&e.length))return [];var t=0;return e=Ht(e,function(n){if(me(n))return t=xe(n.length,t),true}),no(t,function(n){return ue(e,ji(n))})}function Ms(e,t){if(!(e&&e.length))return [];var n=Ho(e);return t==null?n:ue(n,function(i){return Ge(t,r,i)})}var Kh=X(function(e,t){return me(e)?pr(e,t):[]}),Vh=X(function(e){return Co(Ht(e,me))}),$h=X(function(e){var t=nt(e);return me(t)&&(t=r),Co(Ht(e,me),M(t,2))}),Zh=X(function(e){var t=nt(e);return t=typeof t=="function"?t:r,Co(Ht(e,me),r,t)}),Jh=X(Ho);function Qh(e,t){return Jl(e||[],t||[],dr)}function jh(e,t){return Jl(e||[],t||[],gr)}var em=X(function(e){var t=e.length,n=t>1?e[t-1]:r;return n=typeof n=="function"?(e.pop(),n):r,Ms(e,n)});function Ds(e){var t=a(e);return t.__chain__=true,t}function tm(e,t){return t(e),e}function bi(e,t){return t(e)}var nm=At(function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,o=function(s){return fo(s,e)};return t>1||this.__actions__.length||!(i instanceof K)||!Nt(n)?this.thru(o):(i=i.slice(n,+n+(t?1:0)),i.__actions__.push({func:bi,args:[o],thisArg:r}),new je(i,this.__chain__).thru(function(s){return t&&!s.length&&s.push(r),s}))});function rm(){return Ds(this)}function im(){return new je(this.value(),this.__chain__)}function om(){this.__values__===r&&(this.__values__=Vs(this.value()));var e=this.__index__>=this.__values__.length,t=e?r:this.__values__[this.__index__++];return {done:e,value:t}}function am(){return this}function lm(e){for(var t,n=this;n instanceof ri;){var i=Ts(n);i.__index__=0,i.__values__=r,t?o.__wrapped__=i:t=i;var o=i;n=n.__wrapped__;}return o.__wrapped__=e,t}function sm(){var e=this.__wrapped__;if(e instanceof K){var t=e;return this.__actions__.length&&(t=new K(this)),t=t.reverse(),t.__actions__.push({func:bi,args:[Wo],thisArg:r}),new je(t,this.__chain__)}return this.thru(Wo)}function um(){return Zl(this.__wrapped__,this.__actions__)}var fm=fi(function(e,t,n){re.call(e,n)?++e[n]:Tt(e,n,1);});function cm(e,t,n){var i=H(e)?ul:tp;return n&&Ee(e,t,n)&&(t=r),i(e,M(t,3))}function dm(e,t){var n=H(e)?Ht:Ml;return n(e,M(t,3))}var pm=ls(Is),hm=ls(As);function mm(e,t){return Re(yi(e,t),1)}function gm(e,t){return Re(yi(e,t),E)}function vm(e,t,n){return n=n===r?1:G(n),Re(yi(e,t),n)}function Os(e,t){var n=H(e)?Je:Xt;return n(e,M(t,3))}function ks(e,t){var n=H(e)?kc:Ll;return n(e,M(t,3))}var bm=fi(function(e,t,n){re.call(e,n)?e[n].push(t):Tt(e,n,[t]);});function ym(e,t,n,i){e=Be(e)?e:kn(e),n=n&&!i?G(n):0;var o=e.length;return n<0&&(n=xe(o+n,0)),Ci(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Rn(e,t,n)>-1}var wm=X(function(e,t,n){var i=-1,o=typeof t=="function",s=Be(e)?h(e.length):[];return Xt(e,function(u){s[++i]=o?Ge(t,u,n):hr(u,t,n);}),s}),xm=fi(function(e,t,n){Tt(e,n,t);});function yi(e,t){var n=H(e)?ue:Wl;return n(e,M(t,3))}function _m(e,t,n,i){return e==null?[]:(H(t)||(t=t==null?[]:[t]),n=i?r:n,H(n)||(n=n==null?[]:[n]),zl(e,t,n))}var Sm=fi(function(e,t,n){e[n?0:1].push(t);},function(){return [[],[]]});function Cm(e,t,n){var i=H(e)?Ji:pl,o=arguments.length<3;return i(e,M(t,4),n,o,Xt)}function Rm(e,t,n){var i=H(e)?Fc:pl,o=arguments.length<3;return i(e,M(t,4),n,o,Ll)}function Pm(e,t){var n=H(e)?Ht:Ml;return n(e,_i(M(t,3)))}function Tm(e){var t=H(e)?Il:yp;return t(e)}function Im(e,t,n){(n?Ee(e,t,n):t===r)?t=1:t=G(t);var i=H(e)?Zd:wp;return i(e,t)}function Am(e){var t=H(e)?Jd:_p;return t(e)}function Nm(e){if(e==null)return 0;if(Be(e))return Ci(e)?Tn(e):e.length;var t=Ie(e);return t==lt||t==st?e.size:vo(e).length}function Em(e,t,n){var i=H(e)?Qi:Sp;return n&&Ee(e,t,n)&&(t=r),i(e,M(t,3))}var Lm=X(function(e,t){if(e==null)return [];var n=t.length;return n>1&&Ee(e,t[0],t[1])?t=[]:n>2&&Ee(t[0],t[1],t[2])&&(t=[t[0]]),zl(e,Re(t,1),[])}),wi=dd||function(){return _e.Date.now()};function Mm(e,t){if(typeof t!="function")throw new Qe(v);return e=G(e),function(){if(--e<1)return t.apply(this,arguments)}}function Fs(e,t,n){return t=n?r:t,t=e&&t==null?e.length:t,It(e,ie,r,r,r,r,t)}function Bs(e,t){var n;if(typeof t!="function")throw new Qe(v);return e=G(e),function(){return --e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var Uo=X(function(e,t,n){var i=T;if(n.length){var o=Gt(n,Dn(Uo));i|=ye;}return It(e,i,t,n,o)}),Ws=X(function(e,t,n){var i=T|L;if(n.length){var o=Gt(n,Dn(Ws));i|=ye;}return It(t,i,e,n,o)});function Hs(e,t,n){t=n?r:t;var i=It(e,se,r,r,r,r,r,t);return i.placeholder=Hs.placeholder,i}function Us(e,t,n){t=n?r:t;var i=It(e,he,r,r,r,r,r,t);return i.placeholder=Us.placeholder,i}function Gs(e,t,n){var i,o,s,u,f,p,b=0,y=false,w=false,C=true;if(typeof e!="function")throw new Qe(v);t=rt(t)||0,fe(n)&&(y=!!n.leading,w="maxWait"in n,s=w?xe(rt(n.maxWait)||0,t):s,C="trailing"in n?!!n.trailing:C);function A(ge){var dt=i,Mt=o;return i=o=r,b=ge,u=e.apply(Mt,dt),u}function O(ge){return b=ge,f=yr(q,t),y?A(ge):u}function Y(ge){var dt=ge-p,Mt=ge-b,lu=t-dt;return w?Te(lu,s-Mt):lu}function k(ge){var dt=ge-p,Mt=ge-b;return p===r||dt>=t||dt<0||w&&Mt>=s}function q(){var ge=wi();if(k(ge))return J(ge);f=yr(q,Y(ge));}function J(ge){return f=r,C&&i?A(ge):(i=o=r,u)}function qe(){f!==r&&Ql(f),b=0,i=p=o=f=r;}function Le(){return f===r?u:J(wi())}function Ke(){var ge=wi(),dt=k(ge);if(i=arguments,o=this,p=ge,dt){if(f===r)return O(p);if(w)return Ql(f),f=yr(q,t),A(p)}return f===r&&(f=yr(q,t)),u}return Ke.cancel=qe,Ke.flush=Le,Ke}var Dm=X(function(e,t){return El(e,1,t)}),Om=X(function(e,t,n){return El(e,rt(t)||0,n)});function km(e){return It(e,N)}function xi(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new Qe(v);var n=function(){var i=arguments,o=t?t.apply(this,i):i[0],s=n.cache;if(s.has(o))return s.get(o);var u=e.apply(this,i);return n.cache=s.set(o,u)||s,u};return n.cache=new(xi.Cache||Pt),n}xi.Cache=Pt;function _i(e){if(typeof e!="function")throw new Qe(v);return function(){var t=arguments;switch(t.length){case 0:return !e.call(this);case 1:return !e.call(this,t[0]);case 2:return !e.call(this,t[0],t[1]);case 3:return !e.call(this,t[0],t[1],t[2])}return !e.apply(this,t)}}function Fm(e){return Bs(2,e)}var Bm=Cp(function(e,t){t=t.length==1&&H(t[0])?ue(t[0],ze(M())):ue(Re(t,1),ze(M()));var n=t.length;return X(function(i){for(var o=-1,s=Te(i.length,n);++o<s;)i[o]=t[o].call(this,i[o]);return Ge(e,this,i)})}),Go=X(function(e,t){var n=Gt(t,Dn(Go));return It(e,ye,r,t,n)}),zs=X(function(e,t){var n=Gt(t,Dn(zs));return It(e,Pe,r,t,n)}),Wm=At(function(e,t){return It(e,U,r,r,r,t)});function Hm(e,t){if(typeof e!="function")throw new Qe(v);return t=t===r?t:G(t),X(e,t)}function Um(e,t){if(typeof e!="function")throw new Qe(v);return t=t==null?0:xe(G(t),0),X(function(n){var i=n[t],o=Vt(n,0,t);return i&&Ut(o,i),Ge(e,this,o)})}function Gm(e,t,n){var i=true,o=true;if(typeof e!="function")throw new Qe(v);return fe(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),Gs(e,t,{leading:i,maxWait:t,trailing:o})}function zm(e){return Fs(e,1)}function Ym(e,t){return Go(Po(t),e)}function Xm(){if(!arguments.length)return [];var e=arguments[0];return H(e)?e:[e]}function qm(e){return et(e,Q)}function Km(e,t){return t=typeof t=="function"?t:r,et(e,Q,t)}function Vm(e){return et(e,F|Q)}function $m(e,t){return t=typeof t=="function"?t:r,et(e,F|Q,t)}function Zm(e,t){return t==null||Nl(e,t,Se(t))}function ct(e,t){return e===t||e!==e&&t!==t}var Jm=hi(ho),Qm=hi(function(e,t){return e>=t}),sn=kl(function(){return arguments}())?kl:function(e){return pe(e)&&re.call(e,"callee")&&!_l.call(e,"callee")},H=h.isArray,jm=rl?ze(rl):lp;function Be(e){return e!=null&&Si(e.length)&&!Et(e)}function me(e){return pe(e)&&Be(e)}function eg(e){return e===true||e===false||pe(e)&&Ne(e)==jn}var $t=hd||jo,tg=il?ze(il):sp;function ng(e){return pe(e)&&e.nodeType===1&&!wr(e)}function rg(e){if(e==null)return  true;if(Be(e)&&(H(e)||typeof e=="string"||typeof e.splice=="function"||$t(e)||On(e)||sn(e)))return !e.length;var t=Ie(e);if(t==lt||t==st)return !e.size;if(br(e))return !vo(e).length;for(var n in e)if(re.call(e,n))return  false;return  true}function ig(e,t){return mr(e,t)}function og(e,t,n){n=typeof n=="function"?n:r;var i=n?n(e,t):r;return i===r?mr(e,t,r,n):!!i}function zo(e){if(!pe(e))return  false;var t=Ne(e);return t==Or||t==If||typeof e.message=="string"&&typeof e.name=="string"&&!wr(e)}function ag(e){return typeof e=="number"&&Cl(e)}function Et(e){if(!fe(e))return  false;var t=Ne(e);return t==kr||t==Ea||t==Tf||t==Nf}function Ys(e){return typeof e=="number"&&e==G(e)}function Si(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Z}function fe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function pe(e){return e!=null&&typeof e=="object"}var Xs=ol?ze(ol):fp;function lg(e,t){return e===t||go(e,t,Mo(t))}function sg(e,t,n){return n=typeof n=="function"?n:r,go(e,t,Mo(t),n)}function ug(e){return qs(e)&&e!=+e}function fg(e){if(Kp(e))throw new W(m);return Fl(e)}function cg(e){return e===null}function dg(e){return e==null}function qs(e){return typeof e=="number"||pe(e)&&Ne(e)==tr}function wr(e){if(!pe(e)||Ne(e)!=Ct)return  false;var t=Zr(e);if(t===null)return  true;var n=re.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&qr.call(n)==sd}var Yo=al?ze(al):cp;function pg(e){return Ys(e)&&e>=-9007199254740991&&e<=Z}var Ks=ll?ze(ll):dp;function Ci(e){return typeof e=="string"||!H(e)&&pe(e)&&Ne(e)==rr}function Xe(e){return typeof e=="symbol"||pe(e)&&Ne(e)==Fr}var On=sl?ze(sl):pp;function hg(e){return e===r}function mg(e){return pe(e)&&Ie(e)==ir}function gg(e){return pe(e)&&Ne(e)==Lf}var vg=hi(bo),bg=hi(function(e,t){return e<=t});function Vs(e){if(!e)return [];if(Be(e))return Ci(e)?ut(e):Fe(e);if(lr&&e[lr])return Zc(e[lr]());var t=Ie(e),n=t==lt?io:t==st?zr:kn;return n(e)}function Lt(e){if(!e)return e===0?e:0;if(e=rt(e),e===E||e===-Infinity){var t=e<0?-1:1;return t*ve}return e===e?e:0}function G(e){var t=Lt(e),n=t%1;return t===t?n?t-n:t:0}function $s(e){return e?rn(G(e),0,$e):0}function rt(e){if(typeof e=="number")return e;if(Xe(e))return xn;if(fe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=fe(t)?t+"":t;}if(typeof e!="string")return e===0?e:+e;e=hl(e);var n=jf.test(e);return n||tc.test(e)?Mc(e.slice(2),n?2:8):Qf.test(e)?xn:+e}function Zs(e){return vt(e,We(e))}function yg(e){return e?rn(G(e),-9007199254740991,Z):e===0?e:0}function ne(e){return e==null?"":Ye(e)}var wg=Ln(function(e,t){if(br(t)||Be(t)){vt(t,Se(t),e);return}for(var n in t)re.call(t,n)&&dr(e,n,t[n]);}),Js=Ln(function(e,t){vt(t,We(t),e);}),Ri=Ln(function(e,t,n,i){vt(t,We(t),e,i);}),xg=Ln(function(e,t,n,i){vt(t,Se(t),e,i);}),_g=At(fo);function Sg(e,t){var n=En(e);return t==null?n:Al(n,t)}var Cg=X(function(e,t){e=oe(e);var n=-1,i=t.length,o=i>2?t[2]:r;for(o&&Ee(t[0],t[1],o)&&(i=1);++n<i;)for(var s=t[n],u=We(s),f=-1,p=u.length;++f<p;){var b=u[f],y=e[b];(y===r||ct(y,In[b])&&!re.call(e,b))&&(e[b]=s[b]);}return e}),Rg=X(function(e){return e.push(r,hs),Ge(Qs,r,e)});function Pg(e,t){return fl(e,M(t,3),gt)}function Tg(e,t){return fl(e,M(t,3),po)}function Ig(e,t){return e==null?e:co(e,M(t,3),We)}function Ag(e,t){return e==null?e:Dl(e,M(t,3),We)}function Ng(e,t){return e&&gt(e,M(t,3))}function Eg(e,t){return e&&po(e,M(t,3))}function Lg(e){return e==null?[]:ai(e,Se(e))}function Mg(e){return e==null?[]:ai(e,We(e))}function Xo(e,t,n){var i=e==null?r:on(e,t);return i===r?n:i}function Dg(e,t){return e!=null&&vs(e,t,rp)}function qo(e,t){return e!=null&&vs(e,t,ip)}var Og=us(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Kr.call(t)),e[t]=n;},Vo(He)),kg=us(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Kr.call(t)),re.call(e,t)?e[t].push(n):e[t]=[n];},M),Fg=X(hr);function Se(e){return Be(e)?Tl(e):vo(e)}function We(e){return Be(e)?Tl(e,true):hp(e)}function Bg(e,t){var n={};return t=M(t,3),gt(e,function(i,o,s){Tt(n,t(i,o,s),i);}),n}function Wg(e,t){var n={};return t=M(t,3),gt(e,function(i,o,s){Tt(n,o,t(i,o,s));}),n}var Hg=Ln(function(e,t,n){li(e,t,n);}),Qs=Ln(function(e,t,n,i){li(e,t,n,i);}),Ug=At(function(e,t){var n={};if(e==null)return n;var i=false;t=ue(t,function(s){return s=Kt(s,e),i||(i=s.length>1),s}),vt(e,Eo(e),n),i&&(n=et(n,F|B|Q,Op));for(var o=t.length;o--;)So(n,t[o]);return n});function Gg(e,t){return js(e,_i(M(t)))}var zg=At(function(e,t){return e==null?{}:gp(e,t)});function js(e,t){if(e==null)return {};var n=ue(Eo(e),function(i){return [i]});return t=M(t),Yl(e,n,function(i,o){return t(i,o[0])})}function Yg(e,t,n){t=Kt(t,e);var i=-1,o=t.length;for(o||(o=1,e=r);++i<o;){var s=e==null?r:e[bt(t[i])];s===r&&(i=o,s=n),e=Et(s)?s.call(e):s;}return e}function Xg(e,t,n){return e==null?e:gr(e,t,n)}function qg(e,t,n,i){return i=typeof i=="function"?i:r,e==null?e:gr(e,t,n,i)}var eu=ds(Se),tu=ds(We);function Kg(e,t,n){var i=H(e),o=i||$t(e)||On(e);if(t=M(t,4),n==null){var s=e&&e.constructor;o?n=i?new s:[]:fe(e)?n=Et(s)?En(Zr(e)):{}:n={};}return (o?Je:gt)(e,function(u,f,p){return t(n,u,f,p)}),n}function Vg(e,t){return e==null?true:So(e,t)}function $g(e,t,n){return e==null?e:$l(e,t,Po(n))}function Zg(e,t,n,i){return i=typeof i=="function"?i:r,e==null?e:$l(e,t,Po(n),i)}function kn(e){return e==null?[]:ro(e,Se(e))}function Jg(e){return e==null?[]:ro(e,We(e))}function Qg(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=rt(n),n=n===n?n:0),t!==r&&(t=rt(t),t=t===t?t:0),rn(rt(e),t,n)}function jg(e,t,n){return t=Lt(t),n===r?(n=t,t=0):n=Lt(n),e=rt(e),op(e,t,n)}function e0(e,t,n){if(n&&typeof n!="boolean"&&Ee(e,t,n)&&(t=n=r),n===r&&(typeof t=="boolean"?(n=t,t=r):typeof e=="boolean"&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=Lt(e),t===r?(t=e,e=0):t=Lt(t)),e>t){var i=e;e=t,t=i;}if(n||e%1||t%1){var o=Rl();return Te(e+o*(t-e+Lc("1e-"+((o+"").length-1))),t)}return wo(e,t)}var t0=Mn(function(e,t,n){return t=t.toLowerCase(),e+(n?nu(t):t)});function nu(e){return Ko(ne(e).toLowerCase())}function ru(e){return e=ne(e),e&&e.replace(rc,Xc).replace(_c,"")}function n0(e,t,n){e=ne(e),t=Ye(t);var i=e.length;n=n===r?i:rn(G(n),0,i);var o=n;return n-=t.length,n>=0&&e.slice(n,o)==t}function r0(e){return e=ne(e),e&&Ff.test(e)?e.replace(Da,qc):e}function i0(e){return e=ne(e),e&&zf.test(e)?e.replace(Ui,"\\$&"):e}var o0=Mn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),a0=Mn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),l0=as("toLowerCase");function s0(e,t,n){e=ne(e),t=G(t);var i=t?Tn(e):0;if(!t||i>=t)return e;var o=(t-i)/2;return pi(ei(o),n)+e+pi(jr(o),n)}function u0(e,t,n){e=ne(e),t=G(t);var i=t?Tn(e):0;return t&&i<t?e+pi(t-i,n):e}function f0(e,t,n){e=ne(e),t=G(t);var i=t?Tn(e):0;return t&&i<t?pi(t-i,n)+e:e}function c0(e,t,n){return n||t==null?t=0:t&&(t=+t),bd(ne(e).replace(Gi,""),t||0)}function d0(e,t,n){return (n?Ee(e,t,n):t===r)?t=1:t=G(t),xo(ne(e),t)}function p0(){var e=arguments,t=ne(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var h0=Mn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function m0(e,t,n){return n&&typeof n!="number"&&Ee(e,t,n)&&(t=n=r),n=n===r?$e:n>>>0,n?(e=ne(e),e&&(typeof t=="string"||t!=null&&!Yo(t))&&(t=Ye(t),!t&&Pn(e))?Vt(ut(e),0,n):e.split(t,n)):[]}var g0=Mn(function(e,t,n){return e+(n?" ":"")+Ko(t)});function v0(e,t,n){return e=ne(e),n=n==null?0:rn(G(n),0,e.length),t=Ye(t),e.slice(n,n+t.length)==t}function b0(e,t,n){var i=a.templateSettings;n&&Ee(e,t,n)&&(t=r),e=ne(e),t=Ri({},t,i,ps);var o=Ri({},t.imports,i.imports,ps),s=Se(o),u=ro(o,s),f,p,b=0,y=t.interpolate||Br,w="__p += '",C=oo((t.escape||Br).source+"|"+y.source+"|"+(y===Oa?Jf:Br).source+"|"+(t.evaluate||Br).source+"|$","g"),A="//# sourceURL="+(re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Tc+"]")+`
`;e.replace(C,function(k,q,J,qe,Le,Ke){return J||(J=qe),w+=e.slice(b,Ke).replace(ic,Kc),q&&(f=true,w+=`' +
__e(`+q+`) +
'`),Le&&(p=true,w+=`';
`+Le+`;
__p += '`),J&&(w+=`' +
((__t = (`+J+`)) == null ? '' : __t) +
'`),b=Ke+k.length,k}),w+=`';
`;var O=re.call(t,"variable")&&t.variable;if(!O)w=`with (obj) {
`+w+`
}
`;else if($f.test(O))throw new W(x);w=(p?w.replace(Mf,""):w).replace(Df,"$1").replace(Of,"$1;"),w="function("+(O||"obj")+`) {
`+(O?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(f?", __e = _.escape":"")+(p?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+w+`return __p
}`;var Y=ou(function(){return te(s,A+"return "+w).apply(r,u)});if(Y.source=w,zo(Y))throw Y;return Y}function y0(e){return ne(e).toLowerCase()}function w0(e){return ne(e).toUpperCase()}function x0(e,t,n){if(e=ne(e),e&&(n||t===r))return hl(e);if(!e||!(t=Ye(t)))return e;var i=ut(e),o=ut(t),s=ml(i,o),u=gl(i,o)+1;return Vt(i,s,u).join("")}function _0(e,t,n){if(e=ne(e),e&&(n||t===r))return e.slice(0,bl(e)+1);if(!e||!(t=Ye(t)))return e;var i=ut(e),o=gl(i,ut(t))+1;return Vt(i,0,o).join("")}function S0(e,t,n){if(e=ne(e),e&&(n||t===r))return e.replace(Gi,"");if(!e||!(t=Ye(t)))return e;var i=ut(e),o=ml(i,ut(t));return Vt(i,o).join("")}function C0(e,t){var n=j,i=at;if(fe(t)){var o="separator"in t?t.separator:o;n="length"in t?G(t.length):n,i="omission"in t?Ye(t.omission):i;}e=ne(e);var s=e.length;if(Pn(e)){var u=ut(e);s=u.length;}if(n>=s)return e;var f=n-Tn(i);if(f<1)return i;var p=u?Vt(u,0,f).join(""):e.slice(0,f);if(o===r)return p+i;if(u&&(f+=p.length-f),Yo(o)){if(e.slice(f).search(o)){var b,y=p;for(o.global||(o=oo(o.source,ne(ka.exec(o))+"g")),o.lastIndex=0;b=o.exec(y);)var w=b.index;p=p.slice(0,w===r?f:w);}}else if(e.indexOf(Ye(o),f)!=f){var C=p.lastIndexOf(o);C>-1&&(p=p.slice(0,C));}return p+i}function R0(e){return e=ne(e),e&&kf.test(e)?e.replace(Ma,ed):e}var P0=Mn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Ko=as("toUpperCase");function iu(e,t,n){return e=ne(e),t=n?r:t,t===r?$c(e)?rd(e):Hc(e):e.match(t)||[]}var ou=X(function(e,t){try{return Ge(e,r,t)}catch(n){return zo(n)?n:new W(n)}}),T0=At(function(e,t){return Je(t,function(n){n=bt(n),Tt(e,n,Uo(e[n],e));}),e});function I0(e){var t=e==null?0:e.length,n=M();return e=t?ue(e,function(i){if(typeof i[1]!="function")throw new Qe(v);return [n(i[0]),i[1]]}):[],X(function(i){for(var o=-1;++o<t;){var s=e[o];if(Ge(s[0],this,i))return Ge(s[1],this,i)}})}function A0(e){return ep(et(e,F))}function Vo(e){return function(){return e}}function N0(e,t){return e==null||e!==e?t:e}var E0=ss(),L0=ss(true);function He(e){return e}function $o(e){return Bl(typeof e=="function"?e:et(e,F))}function M0(e){return Hl(et(e,F))}function D0(e,t){return Ul(e,et(t,F))}var O0=X(function(e,t){return function(n){return hr(n,e,t)}}),k0=X(function(e,t){return function(n){return hr(e,n,t)}});function Zo(e,t,n){var i=Se(t),o=ai(t,i);n==null&&!(fe(t)&&(o.length||!i.length))&&(n=t,t=e,e=this,o=ai(t,Se(t)));var s=!(fe(n)&&"chain"in n)||!!n.chain,u=Et(e);return Je(o,function(f){var p=t[f];e[f]=p,u&&(e.prototype[f]=function(){var b=this.__chain__;if(s||b){var y=e(this.__wrapped__),w=y.__actions__=Fe(this.__actions__);return w.push({func:p,args:arguments,thisArg:e}),y.__chain__=b,y}return p.apply(e,Ut([this.value()],arguments))});}),e}function F0(){return _e._===this&&(_e._=ud),this}function Jo(){}function B0(e){return e=G(e),X(function(t){return Gl(t,e)})}var W0=Io(ue),H0=Io(ul),U0=Io(Qi);function au(e){return Oo(e)?ji(bt(e)):vp(e)}function G0(e){return function(t){return e==null?r:on(e,t)}}var z0=fs(),Y0=fs(true);function Qo(){return []}function jo(){return  false}function X0(){return {}}function q0(){return ""}function K0(){return  true}function V0(e,t){if(e=G(e),e<1||e>Z)return [];var n=$e,i=Te(e,$e);t=M(t),e-=$e;for(var o=no(i,t);++n<e;)t(n);return o}function $0(e){return H(e)?ue(e,bt):Xe(e)?[e]:Fe(Ps(ne(e)))}function Z0(e){var t=++ld;return ne(e)+t}var J0=di(function(e,t){return e+t},0),Q0=Ao("ceil"),j0=di(function(e,t){return e/t},1),ev=Ao("floor");function tv(e){return e&&e.length?oi(e,He,ho):r}function nv(e,t){return e&&e.length?oi(e,M(t,2),ho):r}function rv(e){return dl(e,He)}function iv(e,t){return dl(e,M(t,2))}function ov(e){return e&&e.length?oi(e,He,bo):r}function av(e,t){return e&&e.length?oi(e,M(t,2),bo):r}var lv=di(function(e,t){return e*t},1),sv=Ao("round"),uv=di(function(e,t){return e-t},0);function fv(e){return e&&e.length?to(e,He):0}function cv(e,t){return e&&e.length?to(e,M(t,2)):0}return a.after=Mm,a.ary=Fs,a.assign=wg,a.assignIn=Js,a.assignInWith=Ri,a.assignWith=xg,a.at=_g,a.before=Bs,a.bind=Uo,a.bindAll=T0,a.bindKey=Ws,a.castArray=Xm,a.chain=Ds,a.chunk=eh,a.compact=th,a.concat=nh,a.cond=I0,a.conforms=A0,a.constant=Vo,a.countBy=fm,a.create=Sg,a.curry=Hs,a.curryRight=Us,a.debounce=Gs,a.defaults=Cg,a.defaultsDeep=Rg,a.defer=Dm,a.delay=Om,a.difference=rh,a.differenceBy=ih,a.differenceWith=oh,a.drop=ah,a.dropRight=lh,a.dropRightWhile=sh,a.dropWhile=uh,a.fill=fh,a.filter=dm,a.flatMap=mm,a.flatMapDeep=gm,a.flatMapDepth=vm,a.flatten=Ns,a.flattenDeep=ch,a.flattenDepth=dh,a.flip=km,a.flow=E0,a.flowRight=L0,a.fromPairs=ph,a.functions=Lg,a.functionsIn=Mg,a.groupBy=bm,a.initial=mh,a.intersection=gh,a.intersectionBy=vh,a.intersectionWith=bh,a.invert=Og,a.invertBy=kg,a.invokeMap=wm,a.iteratee=$o,a.keyBy=xm,a.keys=Se,a.keysIn=We,a.map=yi,a.mapKeys=Bg,a.mapValues=Wg,a.matches=M0,a.matchesProperty=D0,a.memoize=xi,a.merge=Hg,a.mergeWith=Qs,a.method=O0,a.methodOf=k0,a.mixin=Zo,a.negate=_i,a.nthArg=B0,a.omit=Ug,a.omitBy=Gg,a.once=Fm,a.orderBy=_m,a.over=W0,a.overArgs=Bm,a.overEvery=H0,a.overSome=U0,a.partial=Go,a.partialRight=zs,a.partition=Sm,a.pick=zg,a.pickBy=js,a.property=au,a.propertyOf=G0,a.pull=_h,a.pullAll=Ls,a.pullAllBy=Sh,a.pullAllWith=Ch,a.pullAt=Rh,a.range=z0,a.rangeRight=Y0,a.rearg=Wm,a.reject=Pm,a.remove=Ph,a.rest=Hm,a.reverse=Wo,a.sampleSize=Im,a.set=Xg,a.setWith=qg,a.shuffle=Am,a.slice=Th,a.sortBy=Lm,a.sortedUniq=Dh,a.sortedUniqBy=Oh,a.split=m0,a.spread=Um,a.tail=kh,a.take=Fh,a.takeRight=Bh,a.takeRightWhile=Wh,a.takeWhile=Hh,a.tap=tm,a.throttle=Gm,a.thru=bi,a.toArray=Vs,a.toPairs=eu,a.toPairsIn=tu,a.toPath=$0,a.toPlainObject=Zs,a.transform=Kg,a.unary=zm,a.union=Uh,a.unionBy=Gh,a.unionWith=zh,a.uniq=Yh,a.uniqBy=Xh,a.uniqWith=qh,a.unset=Vg,a.unzip=Ho,a.unzipWith=Ms,a.update=$g,a.updateWith=Zg,a.values=kn,a.valuesIn=Jg,a.without=Kh,a.words=iu,a.wrap=Ym,a.xor=Vh,a.xorBy=$h,a.xorWith=Zh,a.zip=Jh,a.zipObject=Qh,a.zipObjectDeep=jh,a.zipWith=em,a.entries=eu,a.entriesIn=tu,a.extend=Js,a.extendWith=Ri,Zo(a,a),a.add=J0,a.attempt=ou,a.camelCase=t0,a.capitalize=nu,a.ceil=Q0,a.clamp=Qg,a.clone=qm,a.cloneDeep=Vm,a.cloneDeepWith=$m,a.cloneWith=Km,a.conformsTo=Zm,a.deburr=ru,a.defaultTo=N0,a.divide=j0,a.endsWith=n0,a.eq=ct,a.escape=r0,a.escapeRegExp=i0,a.every=cm,a.find=pm,a.findIndex=Is,a.findKey=Pg,a.findLast=hm,a.findLastIndex=As,a.findLastKey=Tg,a.floor=ev,a.forEach=Os,a.forEachRight=ks,a.forIn=Ig,a.forInRight=Ag,a.forOwn=Ng,a.forOwnRight=Eg,a.get=Xo,a.gt=Jm,a.gte=Qm,a.has=Dg,a.hasIn=qo,a.head=Es,a.identity=He,a.includes=ym,a.indexOf=hh,a.inRange=jg,a.invoke=Fg,a.isArguments=sn,a.isArray=H,a.isArrayBuffer=jm,a.isArrayLike=Be,a.isArrayLikeObject=me,a.isBoolean=eg,a.isBuffer=$t,a.isDate=tg,a.isElement=ng,a.isEmpty=rg,a.isEqual=ig,a.isEqualWith=og,a.isError=zo,a.isFinite=ag,a.isFunction=Et,a.isInteger=Ys,a.isLength=Si,a.isMap=Xs,a.isMatch=lg,a.isMatchWith=sg,a.isNaN=ug,a.isNative=fg,a.isNil=dg,a.isNull=cg,a.isNumber=qs,a.isObject=fe,a.isObjectLike=pe,a.isPlainObject=wr,a.isRegExp=Yo,a.isSafeInteger=pg,a.isSet=Ks,a.isString=Ci,a.isSymbol=Xe,a.isTypedArray=On,a.isUndefined=hg,a.isWeakMap=mg,a.isWeakSet=gg,a.join=yh,a.kebabCase=o0,a.last=nt,a.lastIndexOf=wh,a.lowerCase=a0,a.lowerFirst=l0,a.lt=vg,a.lte=bg,a.max=tv,a.maxBy=nv,a.mean=rv,a.meanBy=iv,a.min=ov,a.minBy=av,a.stubArray=Qo,a.stubFalse=jo,a.stubObject=X0,a.stubString=q0,a.stubTrue=K0,a.multiply=lv,a.nth=xh,a.noConflict=F0,a.noop=Jo,a.now=wi,a.pad=s0,a.padEnd=u0,a.padStart=f0,a.parseInt=c0,a.random=e0,a.reduce=Cm,a.reduceRight=Rm,a.repeat=d0,a.replace=p0,a.result=Yg,a.round=sv,a.runInContext=d,a.sample=Tm,a.size=Nm,a.snakeCase=h0,a.some=Em,a.sortedIndex=Ih,a.sortedIndexBy=Ah,a.sortedIndexOf=Nh,a.sortedLastIndex=Eh,a.sortedLastIndexBy=Lh,a.sortedLastIndexOf=Mh,a.startCase=g0,a.startsWith=v0,a.subtract=uv,a.sum=fv,a.sumBy=cv,a.template=b0,a.times=V0,a.toFinite=Lt,a.toInteger=G,a.toLength=$s,a.toLower=y0,a.toNumber=rt,a.toSafeInteger=yg,a.toString=ne,a.toUpper=w0,a.trim=x0,a.trimEnd=_0,a.trimStart=S0,a.truncate=C0,a.unescape=R0,a.uniqueId=Z0,a.upperCase=P0,a.upperFirst=Ko,a.each=Os,a.eachRight=ks,a.first=Es,Zo(a,function(){var e={};return gt(a,function(t,n){re.call(a.prototype,n)||(e[n]=t);}),e}(),{chain:false}),a.VERSION=l,Je(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){a[e].placeholder=a;}),Je(["drop","take"],function(e,t){K.prototype[e]=function(n){n=n===r?1:xe(G(n),0);var i=this.__filtered__&&!t?new K(this):this.clone();return i.__filtered__?i.__takeCount__=Te(n,i.__takeCount__):i.__views__.push({size:Te(n,$e),type:e+(i.__dir__<0?"Right":"")}),i},K.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()};}),Je(["filter","map","takeWhile"],function(e,t){var n=t+1,i=n==de||n==Wt;K.prototype[e]=function(o){var s=this.clone();return s.__iteratees__.push({iteratee:M(o,3),type:n}),s.__filtered__=s.__filtered__||i,s};}),Je(["head","last"],function(e,t){var n="take"+(t?"Right":"");K.prototype[e]=function(){return this[n](1).value()[0]};}),Je(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");K.prototype[e]=function(){return this.__filtered__?new K(this):this[n](1)};}),K.prototype.compact=function(){return this.filter(He)},K.prototype.find=function(e){return this.filter(e).head()},K.prototype.findLast=function(e){return this.reverse().find(e)},K.prototype.invokeMap=X(function(e,t){return typeof e=="function"?new K(this):this.map(function(n){return hr(n,e,t)})}),K.prototype.reject=function(e){return this.filter(_i(M(e)))},K.prototype.slice=function(e,t){e=G(e);var n=this;return n.__filtered__&&(e>0||t<0)?new K(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(t=G(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},K.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},K.prototype.toArray=function(){return this.take($e)},gt(K.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),o=a[i?"take"+(t=="last"?"Right":""):t],s=i||/^find/.test(t);o&&(a.prototype[t]=function(){var u=this.__wrapped__,f=i?[1]:arguments,p=u instanceof K,b=f[0],y=p||H(u),w=function(q){var J=o.apply(a,Ut([q],f));return i&&C?J[0]:J};y&&n&&typeof b=="function"&&b.length!=1&&(p=y=false);var C=this.__chain__,A=!!this.__actions__.length,O=s&&!C,Y=p&&!A;if(!s&&y){u=Y?u:new K(this);var k=e.apply(u,f);return k.__actions__.push({func:bi,args:[w],thisArg:r}),new je(k,C)}return O&&Y?e.apply(this,f):(k=this.thru(w),O?i?k.value()[0]:k.value():k)});}),Je(["pop","push","shift","sort","splice","unshift"],function(e){var t=Yr[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);a.prototype[e]=function(){var o=arguments;if(i&&!this.__chain__){var s=this.value();return t.apply(H(s)?s:[],o)}return this[n](function(u){return t.apply(H(u)?u:[],o)})};}),gt(K.prototype,function(e,t){var n=a[t];if(n){var i=n.name+"";re.call(Nn,i)||(Nn[i]=[]),Nn[i].push({name:t,func:n});}}),Nn[ci(r,L).name]=[{name:"wrapper",func:r}],K.prototype.clone=Rd,K.prototype.reverse=Pd,K.prototype.value=Td,a.prototype.at=nm,a.prototype.chain=rm,a.prototype.commit=im,a.prototype.next=om,a.prototype.plant=lm,a.prototype.reverse=sm,a.prototype.toJSON=a.prototype.valueOf=a.prototype.value=um,a.prototype.first=a.prototype.head,lr&&(a.prototype[lr]=am),a},zt=id();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(_e._=zt,define(function(){return zt})):jt?((jt.exports=zt)._=zt,Vi._=zt):_e._=zt;}).call(Gn);});var Pi={square:{label:"Kare Man\u015Fet",width:547,height:574},wide:{label:"Geni\u015F Man\u015Fet",width:979,height:550},default:{label:"Varsay\u0131lan(20'lik Man\u015Fet)",width:868,height:488}},fu={width:Pi.default.width,height:Pi.default.height,backgroundColor:"#fff"},xr={snappingDistance:10},cu={stroke:"blue",strokeWidth:1,selectable:false,evented:false,strokeDashArray:[5,5],opacity:.8},du=[{action:"up",icon:LuChevronUp,label:"Up"},{action:"down",icon:LuChevronDown,label:"Down"},{action:"top",icon:LuChevronsUp,label:"To forward"},{action:"bottom",icon:LuChevronsDown,label:"To bottom"}],pu=[{align:"left",icon:CiAlignLeft},{align:"center",icon:CiAlignCenterH},{align:"right",icon:CiAlignRight},{align:"top",icon:CiAlignTop},{align:"middle",icon:CiAlignCenterV},{align:"bottom",icon:CiAlignBottom}];var mu=(I=>(I.VerticalLeft="guideline-vertical-left",I.VerticalRight="guideline-vertical-right",I.VerticalCenter="guideline-vertical-center",I.HorizontalTop="guideline-horizontal-top",I.HorizontalBottom="guideline-horizontal-bottom",I.HorizontalCenter="guideline-horizontal-center",I.ObjectVerticalCenter="guideline-object-vertical-center",I.ObjectHorizontalCenter="guideline-object-horizontal-center",I.ObjectLeft="guideline-object-left",I.ObjectRight="guideline-object-right",I.ObjectTop="guideline-object-top",I.ObjectBottom="guideline-object-bottom",I))(mu||{}),Fn=class extends Line{constructor(l,c){super(l,c),this.data=c.data;}},hu=r=>{var L,ee,se,he,ye,Pe,ie;let l=(L=r.left)!=null?L:0,c=(ee=r.top)!=null?ee:0,m=(se=r.scaleX)!=null?se:1,v=(he=r.scaleY)!=null?he:1,x=((ye=r.width)!=null?ye:0)*Math.abs(m),_=((Pe=r.height)!=null?Pe:0)*Math.abs(v),S=(ie=r.angle)!=null?ie:0;if(S===0)return {left:l,top:c,right:l+x,bottom:c+_,centerX:l+x/2,centerY:c+_/2,width:x,height:_};let P=S*Math.PI/180,F=Math.sin(P),B=Math.cos(P),I=[{x:l,y:c},{x:l+x,y:c},{x:l+x,y:c+_},{x:l,y:c+_}].map(U=>{let N=l+x/2,j=c+_/2,at=U.x-N,mt=U.y-j;return {x:N+at*B-mt*F,y:j+at*F+mt*B}}),D=I.map(U=>U.x),T=I.map(U=>U.y);return {left:Math.min(...D),right:Math.max(...D),top:Math.min(...T),bottom:Math.max(...T),centerX:l+x/2,centerY:c+_/2,width:x,height:_}},Nv=(r,l,c)=>new Fn(r,{...cu,data:{id:l}}),Ev=(r,l)=>r.getObjects().some(c=>{var m;return c instanceof Fn&&((m=c.data)==null?void 0:m.id)===l}),Dt=(r,l,c)=>{r.getObjects().filter(v=>v instanceof Fn&&v.data!==void 0&&Object.values(mu).includes(v.data.id)).forEach(v=>r.remove(v)),c([]),r.requestRenderAll();},it=(r,l,c)=>Math.abs(r-l)<c,ot=(r,l,c,m,v)=>{var x,_;if(!Ev(r,m)){let S=(x=r.width)!=null?x:0,P=(_=r.height)!=null?_:0,B=Nv(c?[0,l,S,l]:[l,0,l,P],m);v.push({id:m,line:B,length:c?S:P,position:l,isHorizontal:c}),r.add(B);}},_r=(r,l,c,m)=>{var Q,I;if(!r||!l)return;let v=(Q=r.width)!=null?Q:0,x=(I=r.height)!=null?I:0,_=hu(l),S=[],P=false,F=()=>{let{snappingDistance:D}=xr;[{condition:it(_.left,0,D),snap:{left:0},createGuideline:()=>ot(r,0,false,"guideline-vertical-left",S)},{condition:it(_.right,v,D),snap:{left:v-_.width},createGuideline:()=>ot(r,v,false,"guideline-vertical-right",S)},{condition:it(_.top,0,D),snap:{top:0},createGuideline:()=>ot(r,0,true,"guideline-horizontal-top",S)},{condition:it(_.bottom,x,D),snap:{top:x-_.height},createGuideline:()=>ot(r,x,true,"guideline-horizontal-bottom",S)},{condition:it(_.centerX,v/2,D),snap:{left:v/2-_.width/2},createGuideline:()=>ot(r,v/2,false,"guideline-vertical-center",S)},{condition:it(_.centerY,x/2,D),snap:{top:x/2-_.height/2},createGuideline:()=>ot(r,x/2,true,"guideline-horizontal-center",S)}].forEach(L=>{L.condition&&(l.set(L.snap),L.createGuideline(),P=true);});},B=()=>{if(P)return;let D=r.getObjects().filter(T=>T!==l&&!(T instanceof Fn));for(let T of D){if(P)break;let L=hu(T),{snappingDistance:ee}=xr;it(_.centerX,L.centerX,ee)?(l.set({left:L.centerX-_.width/2}),ot(r,L.centerX,false,"guideline-object-vertical-center",S),P=true):it(_.left,L.left,ee)?(l.set({left:L.left}),ot(r,L.left,false,"guideline-object-left",S),P=true):it(_.right,L.right,ee)&&(l.set({left:L.right-_.width}),ot(r,L.right,false,"guideline-object-right",S),P=true),it(_.centerY,L.centerY,ee)?(l.set({top:L.centerY-_.height/2}),ot(r,L.centerY,true,"guideline-object-horizontal-center",S),P=true):it(_.top,L.top,ee)?(l.set({top:L.top}),ot(r,L.top,true,"guideline-object-top",S),P=true):it(_.bottom,L.bottom,ee)&&(l.set({top:L.bottom-_.height}),ot(r,L.bottom,true,"guideline-object-bottom",S),P=true);}};F(),B(),P?m(S):Dt(r,c,m),r.requestRenderAll();},my=(r,l,c)=>{if(r)return r.off("object:moving"),r.off("object:modified"),r.off("mouse:up"),r.on("object:moving",m=>{m.target&&_r(r,m.target,l,c);}),r.on("object:modified",()=>{Dt(r,l,c);}),r.on("mouse:up",()=>{Dt(r,l,c);}),()=>{r.off("object:moving"),r.off("object:modified"),r.off("mouse:up");}};var gu=(r,l,c,m,v)=>{useEffect(()=>{if(!r.current)return;let x=new Canvas(r.current,l);x.renderAll(),v(x),x.on("object:moving",S=>_r(x,S.target,c,m)),x.on("object:modified",()=>{Dt(x,c,m);});let _=S=>{var F;S.preventDefault();let P=(F=S.clipboardData)==null?void 0:F.items;if(P)for(let B=0;B<P.length;B++){let Q=P[B];if(Q.type.indexOf("image")!==-1){let I=Q.getAsFile();if(!I)continue;let D=new Image,T=URL.createObjectURL(I);D.onload=()=>{let L=Math.min(x.width*.8/D.width,x.height*.8/D.height,1),ee=D.width*L,se=D.height*L,he=new Image$1(D,{left:(x.width-ee)/2,top:(x.height-se)/2,originX:"left",originY:"top",scaleX:L,scaleY:L,hasControls:true,hasBorders:true,selectable:true,cornerStyle:"circle",transparentCorners:false,cornerSize:12,padding:0,strokeWidth:0,strokeUniform:true,centeredRotation:true});he.setControlsVisibility({mt:true,mb:true,ml:true,mr:true,bl:true,br:true,tl:true,tr:true,mtr:true}),x.add(he),x.setActiveObject(he),he.setCoords(),x.requestRenderAll(),URL.revokeObjectURL(T);},D.onerror=()=>{console.error("Error loading image"),URL.revokeObjectURL(T);},D.src=T;break}}};return window.addEventListener("paste",_),()=>{x.dispose(),window.removeEventListener("paste",_);}},[]);};function z(...r){return twMerge(clsx(r))}var Ve=Ft.forwardRef(({className:r,type:l,...c},m)=>jsx("input",{type:l,className:z("flex h-9 w-full rounded-md border border-neutral-200 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-neutral-950 placeholder:text-neutral-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-neutral-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-neutral-800 dark:file:text-neutral-50 dark:placeholder:text-neutral-400 dark:focus-visible:ring-neutral-300",r),ref:m,...c}));Ve.displayName="Input";var Wv=cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ce=Ft.forwardRef(({className:r,...l},c)=>jsx(ea.Root,{ref:c,className:z(Wv(),r),...l}));ce.displayName=ea.Root.displayName;var yu=r=>{let[l,c]=useState(null),[m,v]=useState(""),[x,_]=useState(""),[S,P]=useState(""),[F,B]=useState("#000"),[Q,I]=useState(20),[D,T]=useState("Arial"),[L,ee]=useState(100),[se,he]=useState(1.2),[ye,Pe]=useState(0),ie=useCallback(E=>{if(c(E),E){if(ee(E.opacity?E.opacity*100:100),E.type==="rect"||E.type==="image")v(Math.round(E.width*E.scaleX).toString()),_(Math.round(E.height*E.scaleY).toString()),B(E.fill),P("");else if(E.type==="circle"){let Z=E;P(Math.round(Z.radius*2*Z.scaleX).toString()),B(Z.fill),v(""),_("");}else if(E.type==="i-text"){let Z=E;B(Z.fill),I(Z.fontSize);}}else v(""),_(""),P(""),B("#000"),I(20),ee(100);},[]),U=useCallback(E=>{if(l){let Z=E/100;ee(E),l.set("opacity",Z),r==null||r.renderAll();}},[l,r]),N=useCallback(E=>{let Z=E.target.value.replace(/,/g,""),ve=parseInt(Z,10);v(Z),l&&(l.type==="rect"||l.type==="image")&&!isNaN(ve)&&ve>=0&&(l.set({width:ve/l.scaleX}),r==null||r.renderAll());},[l,r]),j=useCallback(E=>{let Z=E.target.value.replace(/,/g,""),ve=parseInt(Z,10);_(Z),l&&(l.type==="rect"||l.type==="image")&&!isNaN(ve)&&ve>=0&&(l.set({height:ve/l.scaleY}),r==null||r.renderAll());},[l,r]),at=useCallback(E=>{let Z=E.target.value.replace(/,/g,""),ve=parseInt(Z,10);P(Z),l&&l.type==="circle"&&!isNaN(ve)&&ve>=0&&(l.set({radius:ve/2/l.scaleX}),r==null||r.renderAll());},[l,r]),mt=useCallback(E=>{B(E.hex),l&&(l.set({fill:E.hex}),r==null||r.renderAll());},[l,r]),Bt=useCallback(E=>{let Z=E.target.value;if(Z===""){I(0);return}let ve=parseInt(Z,10);isNaN(ve)||(I(ve),l&&l.type==="i-text"&&(l.set({fontSize:ve}),r==null||r.renderAll()));},[l,r]),de=useCallback(E=>{!l||!r||l.type==="i-text"&&(l.set("fontFamily",E),r.requestRenderAll(),T(E));},[l,r]),ke=useCallback(E=>{!l||!r||l.type==="i-text"&&(l.set("lineHeight",E),he(E),r.renderAll());},[r,l]),Wt=useCallback(E=>{if(!(!l||!r)&&l.type==="i-text"){let Z;E<0?Z=E/-50*-500:E>0?Z=E*25:Z=0,l.set("charSpacing",Z),Pe(E),r.renderAll();}},[r,l]);return useEffect(()=>{if(l&&l.type==="i-text"){let E=l;T(E.fontFamily||"Arial"),he(E.lineHeight||1.2),Pe(E.charSpacing||0);}},[l]),{selectedObject:l,width:m,height:x,diameter:S,color:F,opacity:L,fontSize:Q,fontFamily:D,lineHeight:se,letterSpacing:ye,handleObjectSelection:ie,handleWidthChange:N,handleHeightChange:j,handleDiameterChange:at,handleColorChange:mt,handleFontSizeChange:Bt,handleFontFamilyChange:de,handleOpacityChange:U,handleLineHeightChange:ke,handleLetterSpacingChange:Wt}};var wu=(r,l)=>{let[c,m]=useState({bold:false,italic:false,underline:false,strikethrough:false,textAlign:"left"}),v=useCallback((x,_)=>{if(l&&l.type==="i-text"){let S=l;switch(x){case "bold":S.set({fontWeight:_?"bold":"normal"});break;case "italic":S.set({fontStyle:_?"italic":"normal"});break;case "underline":S.set({underline:_});break;case "strikethrough":S.set({linethrough:_});break;case "textAlign":S.set({textAlign:_});break}m(P=>({...P,[x]:_})),r==null||r.renderAll();}},[l,r]);return {textFormatting:c,updateTextFormatting:v}};var xu=({objectType:r,width:l,height:c,diameter:m,onWidthChange:v,onHeightChange:x,onDiameterChange:_})=>r==="rect"||r==="image"?jsxs(Fragment,{children:[jsxs("div",{className:"flex items-center space-x-2",children:[jsx(ce,{htmlFor:"width",children:"W:"}),jsx(Ve,{id:"width",value:l,onChange:v,className:"w-20"})]}),jsxs("div",{className:"flex items-center space-x-2",children:[jsx(ce,{htmlFor:"height",children:"H:"}),jsx(Ve,{id:"height",value:c,onChange:x,className:"w-20"})]})]}):r==="circle"?jsxs("div",{className:"flex items-center space-x-2",children:[jsx(ce,{htmlFor:"diameter",children:"\xC7ap:"}),jsx(Ve,{id:"diameter",value:m,onChange:_,className:"w-20"})]}):null;var Wn=xt.Root,Hn=xt.Trigger;var un=Ft.forwardRef(({className:r,align:l="center",sideOffset:c=4,...m},v)=>jsx(xt.Portal,{children:jsx(xt.Content,{ref:v,align:l,sideOffset:c,className:z("z-50 w-72 rounded-md border border-neutral-200 bg-white p-4 text-neutral-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50",r),...m})}));un.displayName=xt.Content.displayName;var fn=({color:r,onChange:l})=>jsxs("div",{className:"flex items-center space-x-2",children:[jsx(ce,{children:"Renk:"}),jsxs(Wn,{children:[jsx(Hn,{children:jsx("div",{className:"w-6 h-6 rounded-sm cursor-pointer border border-gray-300",style:{backgroundColor:r}})}),jsx(un,{className:"p-0 w-fit ml-[5.8rem] mt-3",side:"bottom",children:jsx(SketchPicker,{color:r,onChange:l})})]})]});var Vv=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors  disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:focus-visible:ring-neutral-300",{variants:{variant:{default:"bg-neutral-900 text-neutral-50 shadow hover:bg-neutral-900/90 dark:bg-neutral-50 dark:text-neutral-900 dark:hover:bg-neutral-50/90",destructive:"bg-red-500 text-neutral-50 shadow-sm hover:bg-red-500/90 dark:bg-red-900 dark:text-neutral-50 dark:hover:bg-red-900/90",outline:"border border-neutral-200 bg-white shadow-sm hover:bg-neutral-100 hover:text-neutral-900 dark:border-neutral-800 dark:bg-neutral-950 dark:hover:bg-neutral-800 dark:hover:text-neutral-50",secondary:"bg-neutral-100 text-neutral-900 shadow-sm hover:bg-neutral-100/80 dark:bg-neutral-800 dark:text-neutral-50 dark:hover:bg-neutral-800/80",ghost:"hover:bg-neutral-100 hover:text-neutral-900 dark:hover:bg-neutral-800 dark:hover:text-neutral-50",link:"text-neutral-900 underline-offset-4 hover:underline dark:text-neutral-50"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ce=Ft.forwardRef(({className:r,variant:l,size:c,asChild:m=false,...v},x)=>jsx(m?Slot:"button",{className:z(Vv({variant:l,size:c,className:r})),ref:x,...v}));Ce.displayName="Button";var Tu=({textFormatting:r,updateTextFormatting:l})=>{let c=[{id:"bold",icon:FaBold,property:"bold"},{id:"italic",icon:FaItalic,property:"italic"},{id:"underline",icon:FaUnderline,property:"underline"},{id:"strikethrough",icon:FaStrikethrough,property:"strikethrough"}],m=[{id:"left-align",icon:FaAlignLeft,align:"left"},{id:"center-align",icon:FaAlignCenter,align:"center"},{id:"right-align",icon:FaAlignRight,align:"right"},{id:"justify-align",icon:FaAlignJustify,align:"justify"}];return jsxs("div",{className:"flex items-center space-x-2",children:[c.map(({id:v,icon:x,property:_})=>jsx(Ce,{id:`${v}-mode`,variant:"ghost",size:"icon",className:Pu("bg-transparent hover:bg-none",r[_]&&"bg-tertiary"),onClick:()=>l(_,!r[_]),children:jsx(x,{})},v)),m.map(({id:v,icon:x,align:_})=>jsx(Ce,{id:`${v}-mode`,variant:"ghost",size:"icon",className:Pu("bg-transparent hover:bg-none",r.textAlign===_&&"bg-tertiary"),onClick:()=>l("textAlign",_),children:jsx(x,{})},v))]})};var Iu=V.Root;var Au=V.Value,ta=Ft.forwardRef(({className:r,children:l,...c},m)=>jsxs(V.Trigger,{ref:m,className:z("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-neutral-200 bg-secondary text-black px-3 py-2 text-sm shadow-sm ring-offset-white placeholder:text-neutral-500 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:border-neutral-800 dark:ring-offset-neutral-950 dark:placeholder:text-neutral-400 ",r),...c,children:[l,jsx(V.Icon,{asChild:true,children:jsx(FiChevronDown,{className:"w-5 h-5"})})]}));ta.displayName=V.Trigger.displayName;var Nu=Ft.forwardRef(({className:r,...l},c)=>jsx(V.ScrollUpButton,{ref:c,className:z("flex cursor-default items-center justify-center py-1",r),...l,children:jsx(ChevronUpIcon,{})}));Nu.displayName=V.ScrollUpButton.displayName;var Eu=Ft.forwardRef(({className:r,...l},c)=>jsx(V.ScrollDownButton,{ref:c,className:z("flex cursor-default items-center justify-center py-1",r),...l,children:jsx(ChevronDownIcon,{})}));Eu.displayName=V.ScrollDownButton.displayName;var na=Ft.forwardRef(({className:r,children:l,position:c="popper",...m},v)=>jsx(V.Portal,{children:jsxs(V.Content,{ref:v,className:z("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-neutral-200 bg-white text-neutral-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50",c==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:c,...m,children:[jsx(Nu,{}),jsx(V.Viewport,{className:z("p-1",c==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),jsx(Eu,{})]})}));na.displayName=V.Content.displayName;var ub=Ft.forwardRef(({className:r,...l},c)=>jsx(V.Label,{ref:c,className:z("px-2 py-1.5 text-sm font-semibold",r),...l}));ub.displayName=V.Label.displayName;var ra=Ft.forwardRef(({className:r,children:l,...c},m)=>jsxs(V.Item,{ref:m,className:z("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-neutral-100 focus:text-neutral-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-neutral-800 dark:focus:text-neutral-50",r),...c,children:[jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:jsx(V.ItemIndicator,{children:jsx(CheckIcon,{className:"h-4 w-4"})})}),jsx(V.ItemText,{children:l})]}));ra.displayName=V.Item.displayName;var fb=Ft.forwardRef(({className:r,...l},c)=>jsx(V.Separator,{ref:c,className:z("-mx-1 my-1 h-px bg-neutral-100 dark:bg-neutral-800",r),...l}));fb.displayName=V.Separator.displayName;var Un=[{name:"Arial",family:"Arial, sans-serif",url:""},{name:"Times New Roman",family:"Times New Roman, serif",url:""},{name:"Helvetica",family:"Helvetica, sans-serif",url:""},{name:"Georgia",family:"Georgia, serif",url:""},{name:"Roboto",family:"Roboto, sans-serif",url:"https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"},{name:"Open Sans",family:"Open Sans, sans-serif",url:"https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap"},{name:"Lato",family:"Lato, sans-serif",url:"https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap"},{name:"Montserrat",family:"Montserrat, sans-serif",url:"https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap"},{name:"Raleway",family:"Raleway, sans-serif",url:"https://fonts.googleapis.com/css2?family=Raleway:wght@400;500;600;700&display=swap"},{name:"Ubuntu",family:"Ubuntu, sans-serif",url:"https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&display=swap"},{name:"Playfair Display",family:"Playfair Display, serif",url:"https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&display=swap"},{name:"Merriweather",family:"Merriweather, serif",url:"https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap"},{name:"Source Sans",family:"Source Sans 3, sans-serif",url:"https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@400;600;700&display=swap"},{name:"Poppins",family:"Poppins, sans-serif",url:"https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"}];function fw(){Un.filter(r=>r.url).forEach(r=>{let l=document.createElement("link");l.href=r.url,l.rel="stylesheet",document.head.appendChild(l);});}function Mu({value:r,onValueChange:l}){var v;let m=Ft.useCallback(x=>Un.find(_=>_.family===x||_.name===x),[])(r);return jsxs(Iu,{value:(v=m==null?void 0:m.name)!=null?v:r,onValueChange:l,children:[jsx(ta,{className:"w-[180px]",children:jsx(Au,{children:m?jsx("span",{style:{fontFamily:m.family},children:m.name}):"Select font"})}),jsx(na,{children:Un.map(x=>jsx(ra,{value:x.name,style:{fontFamily:x.family},children:x.name},x.name))})]})}var aa=uu(oa());function ku(r,l,c){let[m,v]=useState([]),x=useRef(m),_=useRef(false);useEffect(()=>{x.current=m;},[m]);let S=useCallback(I=>{try{let D=I.selected;D&&D.length>0?l(D[0]):c();}catch(D){console.error("Error handling selection:",D),c();}},[l,c]),P=useCallback(I=>{try{l(I);}catch(D){console.error("Error handling object modification:",D);}},[l]),F=useCallback(I=>{!r||!I.target||_.current||(_.current=true,requestAnimationFrame(()=>{_r(r,I.target,x.current,v),_.current=false;}));},[r]),B=useCallback(()=>{r&&Dt(r,x.current,v);},[r]),Q=useCallback(()=>{r&&Dt(r,x.current,v);},[r]);return useEffect(()=>{if(!r)return;let I=(0, aa.debounce)(S,16),D=(0, aa.debounce)(P,16);r.set({snapAngle:45,snapThreshold:xr.snappingDistance});let T=()=>{r.on("selection:created",I),r.on("selection:updated",I),r.on("selection:cleared",c),r.on("object:moving",F),r.on("object:modified",ee=>{ee.target&&D(ee.target),B();}),r.on("mouse:up",Q),r.on("object:scaling",()=>r.requestRenderAll()),r.on("object:rotating",()=>r.requestRenderAll());},L=()=>{r.off("selection:created",I),r.off("selection:updated",I),r.off("selection:cleared",c),r.off("object:moving",F),r.off("object:modified"),r.off("mouse:up",Q),r.off("object:scaling"),r.off("object:rotating");};return T(),()=>{I.cancel(),D.cancel(),L(),r&&Dt(r,x.current,v);}},[r,S,P,c,F,B,Q]),{guidelines:m,setGuidelines:v}}var zn={moveObjectUp(r,l){!r||!l||r.bringObjectForward(l);},moveObjectDown(r,l){!r||!l||r.sendObjectBackwards(l);},moveObjectToTop(r,l){!r||!l||r.bringObjectToFront(l);},moveObjectToBottom(r,l){!r||!l||r.sendObjectToBack(l);},alignObject(r,l,c){if(!r||!l)return;let m=r.width||0,v=r.height||0;switch(c){case "left":l.set({left:0});break;case "center":l.set({left:(m-l.width)/2});break;case "right":l.set({left:m-l.width});break;case "top":l.set({top:0});break;case "middle":l.set({top:(v-l.height)/2});break;case "bottom":l.set({top:v-l.height});break}l.setCoords(),r.renderAll();}};var Fu=({icon:r,label:l,onClick:c})=>jsxs(Ce,{variant:"secondary",size:"sm",onClick:c,className:"flex items-center gap-2",children:[jsx(r,{className:"h-4 w-4"}),l]});function Bu({onLayerChange:r,onAlignChange:l}){return jsxs(Wn,{children:[jsx(Hn,{asChild:true,children:jsx(Ce,{variant:"outline",size:"icon",children:jsx(Layers,{className:"h-4 w-4"})})}),jsx(un,{className:"w-64",sideOffset:5,children:jsxs("div",{className:"grid gap-4",children:[jsxs("div",{className:"space-y-2",children:[jsx("h4",{className:"font-medium leading-none",children:"Katmanlar"}),jsx("div",{className:"grid grid-cols-2 gap-2",children:du.map(({action:c,icon:m,label:v})=>jsx(Fu,{icon:m,label:v,onClick:()=>{r(c),requestAnimationFrame(()=>{document.dispatchEvent(new Event("layerChanged"));});}},c))})]}),jsxs("div",{className:"space-y-2",children:[jsx("h4",{className:"font-medium leading-none",children:"Pozisyon"}),jsx("div",{className:"grid grid-cols-3 gap-2",children:pu.map(({align:c,icon:m})=>jsx(Fu,{icon:m,onClick:()=>{l(c),requestAnimationFrame(()=>{document.dispatchEvent(new Event("layerChanged"));});}},c))})]})]})})]})}var Yn=be.Root,Xn=be.Trigger;var gb=be.Portal,Wu=Ft.forwardRef(({className:r,...l},c)=>jsx(be.Overlay,{className:z("fixed inset-0 z-50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...l,ref:c}));Wu.displayName=be.Overlay.displayName;var vb=cva("fixed z-50 gap-1.5 bg-secondary py-4 text-left transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 h-full left-[6.97rem] top-[7.2rem] w-[345px] border-l border-t border-primary rounded-r-md data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  top-[7.2rem] w-[350px] border-t border-primary border-l rounded-l-md data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),cn=Ft.forwardRef(({side:r="right",className:l,children:c,...m},v)=>jsxs(gb,{children:[jsx(Wu,{}),jsxs(be.Content,{ref:v,className:z(vb({side:r}),l),...m,children:[jsxs(be.Close,{className:"absolute right-4 top-4 focus:outline-none disabled:pointer-events-none text-secondary bg-tertiary p-1 rounded-full hover:text-red-500 ease-linear duration-200 transition-all",children:[jsx(Cross2Icon,{className:"h-4 w-4"}),jsx("span",{className:"sr-only",children:"Close"})]}),c]})]}));cn.displayName=be.Content.displayName;var dn=({className:r,...l})=>jsx("div",{className:z("flex flex-col space-y-2 p-3 gap-1 text-center sm:text-left",r),...l});dn.displayName="SheetHeader";var pn=Ft.forwardRef(({className:r,...l},c)=>jsx(be.Title,{ref:c,className:z("text-lg font-semibold text-neutral-950 dark:text-neutral-50",r),...l}));pn.displayName=be.Title.displayName;var hn=Ft.forwardRef(({className:r,...l},c)=>jsx(be.Description,{ref:c,className:z("text-sm text-neutral-500 dark:text-neutral-400",r),...l}));hn.displayName=be.Description.displayName;var Me=Ft.forwardRef(({className:r,...l},c)=>jsxs(Ot.Root,{ref:c,className:z("relative flex w-full touch-none select-none items-center",r),...l,children:[jsx(Ot.Track,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-neutral-900/20 dark:bg-neutral-50/20",children:jsx(Ot.Range,{className:"absolute h-full bg-primaryBlue dark:bg-neutral-50"})}),jsx(Ot.Thumb,{className:"block h-4 w-4 rounded-full border border-neutral-200 border-neutral-900/50 bg-white shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-neutral-950 disabled:pointer-events-none disabled:opacity-50 dark:border-neutral-800 dark:border-neutral-50/50 dark:bg-neutral-950 dark:focus-visible:ring-neutral-300"})]}));Me.displayName=Ot.Root.displayName;var kt=Ft.forwardRef(({className:r,...l},c)=>jsx(Ar.Root,{className:z("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-950 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-neutral-900 data-[state=unchecked]:bg-neutral-200 dark:focus-visible:ring-neutral-300 dark:focus-visible:ring-offset-neutral-950 dark:data-[state=checked]:bg-neutral-50 dark:data-[state=unchecked]:bg-neutral-800",r),...l,ref:c,children:jsx(Ar.Thumb,{className:z("pointer-events-none block h-4 w-4 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0 dark:bg-neutral-950")})}));kt.displayName=Ar.Root.displayName;var fa=memo(({value:r,enabled:l,onChange:c,onToggle:m})=>jsxs("div",{className:"space-y-4 bg-gray-50 p-4 rounded-lg",children:[jsxs("div",{className:"flex items-center justify-between",children:[jsx(ce,{className:"text-gray-700 font-medium",children:"Opakl\u0131k"}),jsx(kt,{checked:l,onCheckedChange:m,className:"data-[state=checked]:bg-blue-500"})]}),l&&jsx(Me,{value:[r],onValueChange:v=>c(v[0]),max:100,step:1,className:"mt-2"})]}));fa.displayName="OpacityControl";var ca=memo(({shadow:r,onChange:l})=>jsxs("div",{className:"space-y-4 bg-gray-50 p-4 rounded-lg",children:[jsxs("div",{className:"flex items-center justify-between",children:[jsx(ce,{className:"text-gray-700 font-medium",children:"G\xF6lge Efekti"}),jsx(kt,{checked:r.enabled,onCheckedChange:c=>l({enabled:c}),className:"data-[state=checked]:bg-blue-500"})]}),r.enabled&&jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxs("div",{className:"space-y-2",children:[jsx(ce,{className:"text-gray-600 text-sm",children:"Bulan\u0131kl\u0131k"}),jsx(Me,{value:[r.blur],onValueChange:c=>l({blur:c[0]}),max:50,step:1})]}),jsx("div",{className:"space-y-2",children:jsx(fn,{color:r.color,onChange:c=>l({color:c.hex})})}),jsxs("div",{className:"space-y-2",children:[jsx(ce,{className:"text-gray-600 text-sm",children:"X Kayd\u0131rma"}),jsx(Me,{value:[r.offsetX],onValueChange:c=>l({offsetX:c[0]}),min:-20,max:20,step:1})]}),jsxs("div",{className:"space-y-2",children:[jsx(ce,{className:"text-gray-600 text-sm",children:"Y Kayd\u0131rma"}),jsx(Me,{value:[r.offsetY],onValueChange:c=>l({offsetY:c[0]}),min:-20,max:20,step:1})]})]})]}));ca.displayName="ShadowControl";var pa=memo(({stroke:r,onChange:l})=>jsxs("div",{className:"space-y-4 bg-gray-50 p-4 rounded-lg",children:[jsxs("div",{className:"flex items-center justify-between",children:[jsx(ce,{className:"text-gray-700 font-medium",children:"Metin \xC7izgisi"}),jsx(kt,{checked:r.enabled,onCheckedChange:c=>l({enabled:c}),className:"data-[state=checked]:bg-blue-500"})]}),r.enabled&&jsxs("div",{className:"flex items-center space-x-4",children:[jsx("input",{type:"number",value:r.width,onChange:c=>l({width:parseFloat(c.target.value)||0}),className:"w-16 border border-gray-300 rounded px-2 py-1",min:"0",max:"20"}),jsx(fn,{color:r.color,onChange:c=>l({color:c.hex})})]})]}));pa.displayName="TextStrokeControl";var ma=memo(({radius:r,onChange:l,isCircle:c})=>{let m=v=>{let x=Math.max(0,Math.min(140,v));l({radius:x});};return jsxs("div",{className:"space-y-4 bg-gray-50 p-4 rounded-lg",children:[jsxs("div",{className:"flex items-center justify-between",children:[jsx(ce,{className:"text-gray-700 font-medium",children:c?"Daire Boyutu":"K\xF6\u015Fe Yuvarlakl\u0131\u011F\u0131"}),jsx(kt,{checked:r.enabled,onCheckedChange:v=>{l({enabled:v}),v||m(0);},className:"data-[state=checked]:bg-blue-500"})]}),r.enabled&&jsx("div",{className:"space-y-2",children:jsxs("div",{className:"flex items-center gap-4",children:[jsx("div",{className:"flex-1",children:jsx(Me,{value:[r.radius],onValueChange:v=>m(v[0]),max:140,step:1,className:"cursor-pointer"})}),jsx("input",{type:"number",value:r.radius,onChange:v=>m(Number(v.target.value)),className:"w-16 h-8 border border-gray-300 rounded px-2 text-sm",min:"0",max:"140"})]})})]})});ma.displayName="ShapeRadiusControl";var De={opacity:{enabled:false,value:100},shadow:{enabled:false,blur:15,offsetX:10,offsetY:10,color:"#000000"},textStroke:{enabled:false,width:1,color:"#000000"},shapeRadius:{enabled:false,radius:10},background:{enabled:false,color:"#ffffff",padding:10}},Xu=r=>{var x,_,S,P,F,B,Q,I,D,T,L,ee,se;if(!r)return De;let l=r.shadow,c=r.type==="i-text",m=r.type==="rect"||r.type==="image",v=r.type==="circle";return {opacity:{enabled:r.opacity!==void 0&&r.opacity!==1,value:Math.round(((x=r.opacity)!=null?x:1)*100)},shadow:{enabled:!!l,blur:(_=l==null?void 0:l.blur)!=null?_:De.shadow.blur,offsetX:(S=l==null?void 0:l.offsetX)!=null?S:De.shadow.offsetX,offsetY:(P=l==null?void 0:l.offsetY)!=null?P:De.shadow.offsetY,color:(F=l==null?void 0:l.color)!=null?F:De.shadow.color},textStroke:{enabled:!!(r.stroke&&r.strokeWidth),width:(B=r.strokeWidth)!=null?B:De.textStroke.width,color:(Q=r.stroke)!=null?Q:De.textStroke.color},shapeRadius:{...De.shapeRadius,...v?{enabled:true,radius:(I=r.radius)!=null?I:De.shapeRadius.radius}:m?{enabled:!!r.rx,radius:(D=r.rx)!=null?D:De.shapeRadius.radius}:{}},background:{...De.background,...c?{enabled:!!r.backgroundColor,color:(T=r.backgroundColor)!=null?T:De.background.color,padding:(L=r.padding)!=null?L:De.background.padding}:{enabled:!!r.backgroundColor,color:(ee=r.backgroundColor)!=null?ee:De.background.color,padding:(se=r.padding)!=null?se:De.background.padding}}}},qu=r=>new St.Shadow({color:r.color,blur:r.blur,offsetX:r.offsetX,offsetY:r.offsetY});var Zu=uu(oa()),Ju=(r,l,c)=>{let m=useMemo(()=>Xu(r),[r]),[v,x]=useState(m.opacity),[_,S]=useState(m.shadow),[P,F]=useState(m.textStroke),[B,Q]=useState(m.shapeRadius),[I,D]=useState(m.background),T=useMemo(()=>(0, Zu.debounce)(()=>{l&&(l.requestRenderAll(),c==null||c());},16),[l,c]);useEffect(()=>()=>{T.cancel();},[T]);let L=useCallback(ie=>{if(!(!r||!l||!v.enabled))try{let U=Math.max(0,Math.min(100,ie));r.set("opacity",U/100),x(N=>({...N,value:U})),T();}catch(U){console.error("Error changing opacity:",U);}},[r,l,v.enabled,T]),ee=useCallback(ie=>{if(!(!r||!l))try{x(U=>{let N={...U,enabled:ie};return r.set("opacity",N.enabled?N.value/100:1),T(),N});}catch(U){console.error("Error toggling opacity:",U);}},[r,l,T]),se=useCallback(ie=>{if(!(!r||!l))try{S(U=>{let N=r.shadow,j={...U,color:(N==null?void 0:N.color)||"#000000",blur:(N==null?void 0:N.blur)||0,offsetX:(N==null?void 0:N.offsetX)||0,offsetY:(N==null?void 0:N.offsetY)||0,...ie};return j.blur=Math.max(0,j.blur),j.offsetX=Math.min(100,Math.max(-100,j.offsetX)),j.offsetY=Math.min(100,Math.max(-100,j.offsetY)),r.set("shadow",j.enabled?qu(j):null),T(),j});}catch(U){console.error("Error changing shadow:",U);}},[r,l,T]),he=useCallback(ie=>{if(!(!r||!l||r.type!=="i-text"))try{F(U=>{let N={...U,...ie},j=r;return N.enabled?(N.width=Math.max(0,Math.min(20,N.width)),j.set({stroke:N.color,strokeWidth:N.width*2,strokeUniform:!0,paintFirst:"stroke",strokeLineJoin:"round",strokeLineCap:"round"}),N.width>2&&(j.shadow||j.set({shadow:new St.Shadow({color:N.color,blur:N.width/2,offsetX:0,offsetY:0})}))):j.set({stroke:void 0,strokeWidth:0,strokeUniform:!1,paintFirst:"fill"}),T(),N});}catch(U){console.error("Error changing text stroke:",U);}},[r,l,T]),ye=useCallback(ie=>{if(!(!r||!l))try{Q(U=>{let N={...U,...ie};if(r.type==="rect"||r.type==="image"){let j=r,at=j.width||0,mt=j.height||0,Bt=j.scaleX||1,de=j.scaleY||1,ke=at*Math.abs(Bt),Wt=mt*Math.abs(de),E=Math.max(0,Math.min(140,N.radius))/140,ve=Math.min(ke,Wt)/2*E,xn=N.enabled?ve/Math.abs(Bt):0,$e=N.enabled?ve/Math.abs(de):0;j.set({rx:xn,ry:$e}),j.setCoords();}return T(),N});}catch(U){console.error("Error changing corner radius:",U);}},[r,l,T]),Pe=useCallback(ie=>{if(!(!r||!l))try{D(U=>{let N={...U,...ie};return N.padding=Math.max(0,Math.min(50,N.padding)),r.type==="i-text"?r.set({textBackgroundColor:N.enabled?N.color:void 0,padding:N.enabled?N.padding:0}):r.set({backgroundColor:N.enabled?N.color:void 0,padding:N.enabled?N.padding:0}),T(),N});}catch(U){console.error("Error changing background:",U);}},[r,l,T]);return useEffect(()=>{r&&(x(m.opacity),S(m.shadow),F(m.textStroke),Q(m.shapeRadius),D(m.background));},[r,m]),{opacity:v,shadow:_,textStroke:P,shapeRadius:B,background:I,handlers:{handleOpacityChange:L,handleOpacityToggle:ee,handleShadowChange:se,handleTextStrokeChange:he,handleCornerRadiusChange:ye,handleBackgroundChange:Pe}}};var va=memo(({})=>jsx(dn,{className:"flex items-center justify-between border-b border-gray-200 pb-4",children:jsxs("div",{children:[jsx(pn,{className:"text-xl font-bold text-gray-800",children:"Nesne Efektleri"}),jsx(hn,{className:"text-gray-500 mt-1",children:"Se\xE7ili nesnenin g\xF6rsel \xF6zelliklerini \xF6zelle\u015Ftirin"})]})}));va.displayName="EffectsHeader";var Ib=({selectedObject:r,canvas:l,onObjectUpdate:c})=>{let{opacity:m,shadow:v,textStroke:x,shapeRadius:_,handlers:S}=Ju(r,l,c);return !r||!l?null:jsxs(Yn,{children:[jsx(Xn,{asChild:true,children:jsxs(Ce,{variant:"outline",className:"transition-all active:scale-95",children:[jsx(Sparkles,{className:"h-5 w-5 text-gray-600 hover:text-gray-800"}),"Efektler"]})}),jsxs(cn,{side:"right",className:"bg-secondary",children:[jsx(va,{onClose:()=>{}}),jsxs("div",{className:"grid gap-6 px-6 py-4 overflow-y-auto max-h-[70vh]",children:[jsx(fa,{value:m.value,enabled:m.enabled,onChange:S.handleOpacityChange,onToggle:S.handleOpacityToggle}),jsx(ca,{shadow:v,onChange:S.handleShadowChange}),r.type==="i-text"&&jsx(pa,{stroke:x,onChange:S.handleTextStrokeChange}),(r.type==="rect"||r.type==="image"||r.type==="circle")&&jsx(ma,{radius:_,onChange:S.handleCornerRadiusChange,isCircle:r.type==="circle"})]})]})]})},Qu=memo(Ib);function ju({lineHeight:r,letterSpacing:l=0,onLineHeightChange:c,onLetterSpacingChange:m}){let v=x=>{let _=parseInt(x.target.value);!isNaN(_)&&_>=-50&&_<=250&&m(_);};return jsxs(Wn,{children:[jsx(Hn,{asChild:true,children:jsx(Ce,{variant:"outline",size:"icon",children:jsx(FaTextHeight,{className:"h-4 w-4"})})}),jsx(un,{className:"w-80",children:jsxs("div",{className:"space-y-4",children:[jsxs("div",{className:"space-y-2",children:[jsxs("div",{className:"flex items-center justify-between",children:[jsx(ce,{children:"Sat\u0131r Aral\u0131\u011F\u0131"}),jsx("span",{className:"text-sm text-muted-foreground",children:r.toFixed(1)})]}),jsx(Me,{value:[r],min:.5,max:12,step:.1,onValueChange:x=>c(x[0])})]}),jsxs("div",{className:"space-y-2",children:[jsxs("div",{className:"flex items-center justify-between",children:[jsx(ce,{children:"Harf Aral\u0131\u011F\u0131"}),jsxs("div",{className:"flex items-center gap-2",children:[jsx(Ve,{type:"number",value:l,onChange:v,className:"w-[70px]",min:-50,max:250}),jsx("span",{className:"text-sm text-muted-foreground",children:"px"})]})]}),jsx(Me,{value:[l],min:-50,max:250,step:1,onValueChange:x=>m(x[0])})]})]})})]})}function ya({canvas:r}){let{selectedObject:l,width:c,height:m,diameter:v,color:x,fontSize:_,fontFamily:S,handleObjectSelection:P,handleWidthChange:F,handleHeightChange:B,handleDiameterChange:Q,handleColorChange:I,handleFontSizeChange:D,handleFontFamilyChange:T,lineHeight:L,letterSpacing:ee,handleLineHeightChange:se,handleLetterSpacingChange:he}=yu(r),{textFormatting:ye,updateTextFormatting:Pe}=wu(r,l),[ie,U]=useState("#ffffff"),N=useCallback(()=>{P(null);},[P]),j=useCallback(()=>{if(!r)return;let de=r.getActiveObjects();de.length>0?(r.discardActiveObject(),de.forEach(ke=>{r.remove(ke);})):l&&r.remove(l),r.requestRenderAll(),N();},[r,l,N]);ku(r,P,N),useEffect(()=>{let de=ke=>{ke.key==="Delete"&&j();};return window.addEventListener("keydown",de),()=>{window.removeEventListener("keydown",de);}},[j]);let at=de=>{let ke=de.hex;U(ke),r&&(r.set("backgroundColor",ke),r.renderAll());},mt=useCallback(de=>{!r||!l||zn.alignObject(r,l,de);},[r,l]),Bt=useCallback(de=>{if(!(!r||!l))switch(de){case "up":zn.moveObjectUp(r,l);break;case "down":zn.moveObjectDown(r,l);break;case "top":zn.moveObjectToTop(r,l);break;case "bottom":zn.moveObjectToBottom(r,l);break}},[r,l]);return jsx("div",{className:"w-full overflow-hidden",children:l?jsxs("div",{className:"min-w-[60px] h-[60px] border-b bg-secondary border-primary transition-all duration-300 text-primary p-2 flex items-center space-x-4",children:[jsx(fn,{color:x,onChange:I}),jsx(xu,{objectType:l.type,width:c,height:m,diameter:v,onWidthChange:F,onHeightChange:B,onDiameterChange:Q}),l.type==="i-text"&&jsxs(Fragment,{children:[jsxs("div",{className:"flex items-center space-x-2",children:[jsx(ce,{htmlFor:"fontSize",children:"Yaz\u0131 Boyutu:"}),jsx(Ve,{id:"fontSize",value:_===0?"":_,onChange:D,className:"w-20"})]}),jsx(Mu,{value:S,onValueChange:de=>{var Wt;let ke=(Wt=Un.find(E=>E.name===de))==null?void 0:Wt.family;T(ke||de);}}),jsx(Tu,{textFormatting:ye,updateTextFormatting:Pe}),jsx(ju,{lineHeight:L,letterSpacing:ee||0,onLineHeightChange:se,onLetterSpacingChange:he})]}),jsx(Bu,{onAlignChange:mt,onLayerChange:Bt}),jsx(Qu,{selectedObject:l,canvas:r,onObjectUpdate:()=>{r==null||r.renderAll();}}),jsx(Ce,{onClick:j,disabled:!l,className:"p-2 rounded-md",variant:"destructive",size:"icon",children:jsx(FiTrash2,{})})]}):jsx("div",{className:"min-w-[60px] h-[60px] border-b bg-secondary border-primary transition-all duration-300 text-primary p-2 flex items-center space-x-4",children:jsx("div",{className:"flex items-center space-x-2",children:jsx(fn,{color:ie,onChange:at})})})})}var ef=[{label:"Dikd\xF6rtgen",icon:PiRectangleBold,action:"rectangle"},{label:"Daire",icon:VscCircleLarge,action:"circle"},{label:"Metin",icon:PiTextTFill},{label:"G\xF6rsel Ekle",icon:IoImageSharp},{label:"\u0130kon Ekle",icon:FaFontAwesome},{label:"Man\u015Fet Se\xE7",icon:TbLayoutGridFilled}];var Zn={cornerColor:"#2196F3",cornerStrokeColor:"#2196F3",borderColor:"#2196F3",cornerSize:8,transparentCorners:false,cornerStyle:"circle",padding:8};function tf(r){let l=useCallback(S=>{if(!r)return;let P={x:r.width/2,y:r.height/2};S.set({left:P.x-S.width*(S.scaleX||1)/2,top:P.y-S.height*(S.scaleY||1)/2,...Zn});},[r]),c=useCallback(()=>{if(r)try{let S=new St.Rect({width:100,height:60,fill:"#ff5757",...Zn});l(S),r.add(S),r.setActiveObject(S),r.renderAll();}catch(S){console.error("Error adding rectangle:",S);}},[r,l]),m=useCallback(()=>{if(r)try{let S=new St.Circle({radius:50,fill:"#ff5757",...Zn});l(S),r.add(S),r.setActiveObject(S),r.renderAll();}catch(S){console.error("Error adding circle:",S);}},[r,l]),v=useCallback(()=>{if(r)try{let S=new St.IText("Yeni Metin",{fontFamily:"Arial",fontSize:20,fill:"#000000",...Zn});l(S),S.on("mousedown",P=>{P.e.button===2&&(S.enterEditing(),S.selectAll(),r.renderAll());}),r.add(S),r.setActiveObject(S),r.renderAll();}catch(S){console.error("Error adding text:",S);}},[r,l]),x=useCallback(S=>{if(!r)return;let P=new FileReader;P.onload=F=>{var Q;let B=new Image;B.onload=()=>{try{let I=new St.Image(B,{...Zn}),D=Math.min(r.width*.8/B.width,r.height*.8/B.height,1);I.scale(D),l(I),r.add(I),r.setActiveObject(I),r.renderAll();}catch(I){console.error("Error creating fabric image:",I);}},B.onerror=()=>{console.error("Error loading image");},B.src=(Q=F.target)==null?void 0:Q.result;},P.onerror=()=>{console.error("Error reading file");},P.readAsDataURL(S);},[r,l]),_=useCallback((S,P)=>{if(r)try{let F=new St.Path(S,{fill:P,scaleX:.05,scaleY:.05,...Zn});l(F),r.add(F),r.setActiveObject(F),r.renderAll();}catch(F){console.error("Error adding icon:",F);}},[r,l]);return {handleAddRectangle:c,handleAddCircle:m,handleAddText:v,handleImageUpload:x,handleAddIcon:_}}var rf=()=>{let[r,l]=useState(false),[c,m]=useState(false);return {isIconDrawerOpen:r,setIsIconDrawerOpen:l,isHeadlineDrawerOpen:c,setIsHeadlineDrawerOpen:m}};var Er=Ft.forwardRef(({className:r,orientation:l="horizontal",decorative:c=true,...m},v)=>jsx(wa.Root,{ref:v,decorative:c,orientation:l,className:z("shrink-0 bg-neutral-200 dark:bg-neutral-800",l==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r),...m}));Er.displayName=wa.Root.displayName;library.add(fas,fab);var xa=r=>{let l=[...Object.entries(fas).map(([c,m])=>({id:c,icon:m,type:"solid"})),...Object.entries(fab).map(([c,m])=>({id:c,icon:m,type:"brand"}))];return r?l.filter(c=>c.id.toLowerCase().includes(r.toLowerCase())).slice(0,45):l.slice(0,52)};function uf({onIconSelect:r}){let[l,c]=useState(""),[m,v]=useState(xa("")),x=_=>{let S=xa(_);v(S);};return jsx("div",{className:"",children:jsxs("div",{className:"space-y-2 items-center justify-center text-center",children:[jsx("div",{className:"flex gap-2 mb-4 w-11/12 ",children:jsx(Ve,{placeholder:"\u0130kon Ara",value:l,onChange:_=>{c(_.target.value),x(_.target.value);}})}),jsx("div",{className:"grid grid-cols-4 gap-2 overflow-y-auto",children:m.map(_=>jsx(Ce,{className:"h-12 w-12 p-0 bg-tertiary text-primary hover:bg-white duration-150 ease-linear",onClick:()=>{let S=_.icon.icon[4];r(S,"#000000");},children:jsx(FontAwesomeIcon,{icon:_.icon,className:"h-6 w-6"})},_.id))})]})})}var Qn=({icon:r,label:l,onClick:c})=>jsxs("button",{className:"w-full flex flex-col items-center gap-1 p-2 hover:bg-gray-100 rounded-lg transition-colors",onClick:c,children:[jsx(r,{className:"h-5 w-5 text-primary"}),jsx("span",{className:"text-xs font-normal text-primary",children:l})]});var cf=({isOpen:r,onOpenChange:l,onIconSelect:c,item:m})=>jsxs(Yn,{open:r,onOpenChange:l,children:[jsx(Xn,{asChild:true,children:jsx("div",{children:jsx(Qn,{icon:m.icon,label:m.label})})}),jsxs(cn,{side:"left",children:[jsxs(dn,{children:[jsx(pn,{children:"\u0130kon Se\xE7in"}),jsx(hn,{children:"Listeden bir ikon se\xE7in"})]}),jsx(Er,{}),jsx("div",{className:"p-4",children:jsx(uf,{onIconSelect:v=>{c(v),l(false);}})})]})]});function pf({canvas:r,onSelect:l}){let c=(m,v)=>{r&&(r.setWidth(m),r.setHeight(v),r.renderAll());};return jsx("div",{className:"",children:jsx("div",{children:Object.values(Pi).map(m=>jsxs("button",{className:"w-full p-3 text-left hover:bg-tertiary rounded-sm transition-colors",onSelect:l,onClick:()=>c(m.width,m.height),children:[jsx("div",{className:"text-sm font-medium",children:m.label}),jsxs("div",{className:"text-xs text-tertiary",children:[m.width,"x",m.height,"px"]})]},m.label))})})}var hf=({isOpen:r,onOpenChange:l,canvas:c,item:m})=>jsxs(Yn,{open:r,onOpenChange:l,children:[jsx(Xn,{asChild:true,children:jsx("div",{children:jsx(Qn,{icon:m.icon,label:m.label})})}),jsxs(cn,{side:"left",children:[jsxs(dn,{children:[jsx(pn,{children:"Man\u015Fet Se\xE7in"}),jsx(hn,{className:"text-tertiary",children:"Olu\u015Fturmak istedi\u011Finiz man\u015Fet t\xFCr\xFCn\xFC ve \xF6l\xE7\xFCs\xFCn\xFC se\xE7in."})]}),jsx(Er,{}),jsx(pf,{canvas:c,onSelect:()=>l(false)})]})]});function Ra({canvas:r}){let{isIconDrawerOpen:l,setIsIconDrawerOpen:c,isHeadlineDrawerOpen:m,setIsHeadlineDrawerOpen:v}=rf(),x=Ft__default.useRef(null),{handleAddRectangle:_,handleAddCircle:S,handleAddText:P,handleImageUpload:F,handleAddIcon:B}=tf(r),Q=T=>{var ee;let L=(ee=T.target.files)==null?void 0:ee[0];L&&F(L);},I={Dikd\u00F6rtgen:_,Daire:S,Metin:P,"G\xF6rsel Ekle":()=>{var T;return (T=x.current)==null?void 0:T.click()}},D=T=>{switch(T.label){case "\u0130kon Ekle":return jsx(cf,{isOpen:l,onOpenChange:c,onIconSelect:L=>B(L,"defaultColor"),item:T});case "Man\u015Fet Se\xE7":return jsx(hf,{isOpen:m,onOpenChange:v,canvas:r,item:T});default:return jsx(Qn,{icon:T.icon,label:T.label,onClick:I[T.label]})}};return jsx("div",{className:"w-28 flex flex-col border-r bg-gray-50 shadow-lg",children:jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[jsx("input",{type:"file",ref:x,className:"hidden",onChange:Q,accept:"image/*"}),jsx("nav",{className:"space-y-2",children:ef.map(T=>jsx("div",{children:D(T)},T.label))})]})})}var mf=$.Root,gf=$.Trigger;var Zb=Ft.forwardRef(({className:r,inset:l,children:c,...m},v)=>jsxs($.SubTrigger,{ref:v,className:z("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none  data-[state=open]:bg-neutral-100 dark:focus:bg-neutral-800 dark:data-[state=open]:bg-neutral-800",l&&"pl-8",r),...m,children:[c,jsx(ChevronRightIcon,{className:"ml-auto h-4 w-4"})]}));Zb.displayName=$.SubTrigger.displayName;var Jb=Ft.forwardRef(({className:r,...l},c)=>jsx($.SubContent,{ref:c,className:z("z-50 min-w-[8rem] overflow-hidden rounded-md border border-neutral-200 bg-white p-1 text-neutral-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50",r),...l}));Jb.displayName=$.SubContent.displayName;var Pa=Ft.forwardRef(({className:r,sideOffset:l=4,...c},m)=>jsx($.Portal,{children:jsx($.Content,{ref:m,sideOffset:l,className:z("z-50 min-w-[8rem] overflow-hidden rounded-md border border-neutral-200 bg-white p-1 text-neutral-950 shadow-md dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...c})}));Pa.displayName=$.Content.displayName;var Ta=Ft.forwardRef(({className:r,inset:l,...c},m)=>jsx($.Item,{ref:m,className:z("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors  data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l&&"pl-8",r),...c}));Ta.displayName=$.Item.displayName;var Qb=Ft.forwardRef(({className:r,children:l,checked:c,...m},v)=>jsxs($.CheckboxItem,{ref:v,className:z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-neutral-100 focus:text-neutral-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 ",r),checked:c,...m,children:[jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsx($.ItemIndicator,{children:jsx(CheckIcon,{className:"h-4 w-4"})})}),l]}));Qb.displayName=$.CheckboxItem.displayName;var jb=Ft.forwardRef(({className:r,children:l,...c},m)=>jsxs($.RadioItem,{ref:m,className:z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-neutral-100 focus:text-neutral-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-neutral-800 dark:focus:text-neutral-50",r),...c,children:[jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsx($.ItemIndicator,{children:jsx(DotFilledIcon,{className:"h-4 w-4 fill-current"})})}),l]}));jb.displayName=$.RadioItem.displayName;var ey=Ft.forwardRef(({className:r,inset:l,...c},m)=>jsx($.Label,{ref:m,className:z("px-2 py-1.5 text-sm font-semibold",l&&"pl-8",r),...c}));ey.displayName=$.Label.displayName;var Ia=Ft.forwardRef(({className:r,...l},c)=>jsx($.Separator,{ref:c,className:z("-mx-1 my-1 h-px bg-neutral-100 dark:bg-neutral-800",r),...l}));Ia.displayName=$.Separator.displayName;var ry=({canvas:r,fileName:l})=>{let[c,m]=useState(90),[v,x]=useState(2);return jsxs(mf,{children:[jsx(gf,{asChild:true,children:jsxs(Ce,{className:"bg-primaryBlue rounded-md focus:outline-none text-white hover:bg-tertiary hover:text-primary ease-linear duration-200 gap-2",children:[jsx(FaDownload,{className:"h-4 w-4"})," G\xF6rseli Kaydet"]})}),jsxs(Pa,{className:"w-56 bg-secondary",children:[jsxs("div",{className:"px-2 py-1.5",children:[jsxs("label",{className:"text-sm font-medium",children:["Kalite: ",c,"%"]}),jsx(Me,{className:"mt-2",min:1,max:100,step:1,value:[c],onValueChange:S=>m(S[0])})]}),jsxs("div",{className:"px-2 py-1.5",children:[jsxs("label",{className:"text-sm font-medium",children:["\xC7\xF6z\xFCn\xFCrl\xFCk: ",v,"x"]}),jsx(Me,{className:"mt-2",min:1,max:4,step:.5,value:[v],onValueChange:S=>x(S[0])})]}),jsx(Ia,{}),jsx(Ta,{children:jsx(Ce,{className:"w-full inline-block bg-primaryBlue text-white hover:bg-tertiary hover:text-primary ease-linear duration-200",variant:"outline",onClick:()=>{if(!r){console.warn("Canvas is not available");return}let S=r.toDataURL({format:"jpeg",quality:c/100,multiplier:v}),P=document.createElement("a");P.href=S,P.download=`${l}.jpg`,document.body.appendChild(P),P.click(),document.body.removeChild(P);},children:"Kaydet"})})]})]})},bf=ry;function Na({canvas:r}){let[l,c]=useState("");return jsx("header",{className:"flex flex-col bg-secondary",children:jsxs("div",{className:"flex h-10 lg:h-14 items-center gap-4 border-b border-primary",children:[jsx("div",{className:"flex justify-start ml-5",children:jsx(Ve,{className:"border-primary rounded-sm",placeholder:"G\xF6rsel Ad\u0131",value:l,onChange:m=>c(m.target.value)})}),jsx("div",{className:"flex justify-center items-center gap-2 ml-auto mr-6",children:jsx(bf,{canvas:r,fileName:l})})]})})}var ay=({width:r=800,height:l=600,backgroundColor:c="#ffffff"})=>{let m=useRef(null),v=useRef(null),[x,_]=useState(null),[S,P]=useState([]);return gu(m,{...fu},S,P,_),useEffect(()=>{if(!x||!v.current)return;let F=B=>{B.target===v.current&&(x.discardActiveObject(),x.requestRenderAll());};return v.current.addEventListener("mousedown",F),()=>{var B;(B=v.current)==null||B.removeEventListener("mousedown",F);}},[x]),useEffect(()=>{if(!x)return;let F=()=>{x.requestRenderAll();};return document.addEventListener("layerChanged",F),()=>{document.removeEventListener("layerChanged",F);}},[x]),jsxs("div",{className:"min-h-screen flex bg-tertiary",children:[jsx(Ra,{canvas:x}),jsxs("div",{className:"flex-grow flex flex-col",children:[jsx(Na,{canvas:x}),jsx(ya,{canvas:x}),jsx("div",{ref:v,className:"flex-grow flex justify-center items-center overflow-auto p-4 bg-gray-200",children:jsx("canvas",{ref:m,className:"border-2 border-primary"})})]})]})},Sf=ay;var D1=Sf;/*! Bundled license information:

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/export{pu as ALIGN_ACTIONS,fu as CANVAS_DEFAULT_CONFIG,cu as GUIDELINE_STYLES,Pi as HEADLINE_SIZES,Sf as HeadlineEditorCanvas,du as LAYER_ACTIONS,ef as SIDEBAR_ITEMS,xr as SNAPPING_CONFIG,Dt as clearGuidelines,qu as createShadow,D1 as default,Un as fontFamilies,Xu as getInitialStates,_r as handleObjectMoving,zn as layerManagement,fw as loadFonts,my as setupCanvasEvents,ku as useCanvasEvents,gu as useCanvasInitialization,Ju as useCanvasObject,tf as useCanvasShapes,yu as useObjectSelection,rf as useSidebarState,wu as useTextFormatting};//# sourceMappingURL=index.js.map
//# sourceMappingURL=index.js.map